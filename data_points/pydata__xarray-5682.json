{
  "repo": "pydata/xarray",
  "instance_id": "pydata__xarray-5682",
  "base_commit": "2705c63e0c03a21d2bbce3a337fac60dd6f6da59",
  "patch": "diff --git a/xarray/plot/utils.py b/xarray/plot/utils.py\n--- a/xarray/plot/utils.py\n+++ b/xarray/plot/utils.py\n@@ -490,7 +490,13 @@ def _get_units_from_attrs(da):\n     else:\n         units = _get_units_from_attrs(da)\n \n-    return \"\\n\".join(textwrap.wrap(name + extra + units, 30))\n+    # Treat `name` differently if it's a latex sequence\n+    if name.startswith(\"$\") and (name.count(\"$\") % 2 == 0):\n+        return \"$\\n$\".join(\n+            textwrap.wrap(name + extra + units, 60, break_long_words=False)\n+        )\n+    else:\n+        return \"\\n\".join(textwrap.wrap(name + extra + units, 30))\n \n \n def _interval_to_mid_points(array):\n",
  "test_patch": "diff --git a/xarray/tests/test_plot.py b/xarray/tests/test_plot.py\n--- a/xarray/tests/test_plot.py\n+++ b/xarray/tests/test_plot.py\n@@ -2950,3 +2950,10 @@ def test_datarray_scatter(x, y, z, hue, markersize, row, col, add_legend, add_co\n             add_legend=add_legend,\n             add_colorbar=add_colorbar,\n         )\n+\n+\n+def test_latex_name_isnt_split():\n+    da = xr.DataArray()\n+    long_latex_name = r\"$Ra_s = \\mathrm{mean}(\\epsilon_k) / \\mu M^2_\\infty$\"\n+    da.attrs = dict(long_name=long_latex_name)\n+    assert label_from_attrs(da) == long_latex_name\n",
  "problem_statement": "Complex LaTeX expressions in `long_name`s aren't rendered correctly when plotting\n<!-- Please include a self-contained copy-pastable example that generates the issue if possible.\r\n\r\nPlease be concise with code posted. See guidelines below on how to provide a good bug report:\r\n\r\n- Craft Minimal Bug Reports: http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports\r\n- Minimal Complete Verifiable Examples: https://stackoverflow.com/help/mcve\r\n\r\nBug reports that follow these guidelines are easier to diagnose, and so are often handled much more quickly.\r\n-->\r\n\r\n**What happened**:\r\n\r\nWhen I try to give a variable a `long_name` that's a complex latex expression and then plot that variable the expression doesn't get rendered by latex\r\n\r\n**What you expected to happen**:\r\n\r\nI expected the name to get rendered by latex\r\n\r\n**Minimal Complete Verifiable Example**:\r\n\r\nIn the example below I'm plotting a variable with a complex `long_name` via xarray and then plotting it again (in a separate figure) using only matplotlib and manually setting `xlabel()`. The matplotlib-only version works fine (right), but the xarray version doesn't render (left).\r\n\r\n```python\r\nimport numpy as np\r\nfrom matplotlib import pyplot as plt\r\nimport xarray as xr\r\nda = xr.DataArray(range(5), dims=\"x\", coords = dict(x=range(5)))\r\nname = r\"$Ra_s = \\mathrm{mean}(\\epsilon_k) / \\mu M^2_\\infty$\"\r\nda.x.attrs = dict(long_name = name)\r\nda.plot()\r\n\r\nplt.figure()\r\nplt.plot(range(5))\r\nplt.xlabel(name)\r\n```\r\n\r\n![Screenshot from 2021-08-06 15-50-08](https://user-images.githubusercontent.com/13205162/128578216-5f5ce409-e77c-43e8-b0c1-0b85dc3e81a9.png)\r\n\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:\r\n\r\n<details><summary>Output of <tt>xr.show_versions()</tt></summary>\r\n\r\nINSTALLED VERSIONS\r\n------------------\r\ncommit: None\r\npython: 3.9.2 (default, Mar  3 2021, 20:02:32) \r\n[GCC 7.3.0]\r\npython-bits: 64\r\nOS: Linux\r\nOS-release: 5.10.53-1-MANJARO\r\nmachine: x86_64\r\nprocessor: \r\nbyteorder: little\r\nLC_ALL: None\r\nLANG: en_US.UTF-8\r\nLOCALE: en_US.UTF-8\r\nlibhdf5: 1.10.6\r\nlibnetcdf: 4.6.1\r\n\r\nxarray: 0.17.0\r\npandas: 1.2.3\r\nnumpy: 1.19.2\r\nscipy: 1.5.3\r\nnetCDF4: 1.5.6\r\npydap: None\r\nh5netcdf: None\r\nh5py: None\r\nNio: None\r\nzarr: None\r\ncftime: 1.2.1\r\nnc_time_axis: None\r\nPseudoNetCDF: None\r\nrasterio: None\r\ncfgrib: None\r\niris: None\r\nbottleneck: 1.3.2\r\ndask: 2021.04.0\r\ndistributed: 2021.04.0\r\nmatplotlib: 3.3.4\r\ncartopy: 0.18.0\r\nseaborn: None\r\nnumbagg: None\r\npint: 0.17\r\nsetuptools: 52.0.0.post20210125\r\npip: 21.0.1\r\nconda: None\r\npytest: None\r\nIPython: 7.22.0\r\nsphinx: None\r\n\r\n\r\n</details>\r\n\n",
  "hints_text": "Note that for simple latex expressions xarray appears to work fine. For example `name = r\"$\\mathrm{mean}(\\epsilon_k)$\"` works in both figures in the example above.\nI agree this is annoying but there is no good solution AFAIK.\r\n\r\nWe use textwrap here:\r\nhttps://github.com/pydata/xarray/blob/8b95da8e21a9d31de9f79cb0506720595f49e1dd/xarray/plot/utils.py#L493\r\n\r\nI guess we could skip it if the first character in `name` is `$`?\nI'm not entirely sure why that would make the LaTeX renderer fail. But if that's the case and skipping it is an option, I'd test that both the first and last characters are `$` before skipping.\nIt's the newline join that's the problem. You can get the latex working as textwrap intends by using `\"$\\n$\".join`\r\n\r\n```python\r\nimport numpy as np\r\nfrom matplotlib import pyplot as plt\r\nimport xarray as xr\r\nda = xr.DataArray(range(5), dims=\"x\", coords = dict(x=range(5)))\r\nname = r\"$Ra_s = \\mathrm{mean}(\\epsilon_k) / \\mu M^2_\\infty$\"\r\nname = \"$\\n$\".join(textwrap.wrap(name, 30))\r\nda.x.attrs = dict(long_name = name)\r\nda.plot()\r\n\r\nplt.figure()\r\nplt.plot(range(5))\r\nplt.xlabel(name)\r\n```\r\nBut that looks worse than the original, checking if the string is latex-able seems a good idea.",
  "created_at": "2021-08-07T14:18:16Z",
  "version": "0.19",
  "FAIL_TO_PASS": "[\"xarray/tests/test_plot.py::test_latex_name_isnt_split\"]",
  "PASS_TO_PASS": "[\"xarray/tests/test_plot.py::TestPlot::test_accessor\", \"xarray/tests/test_plot.py::TestPlot::test_label_from_attrs\", \"xarray/tests/test_plot.py::TestPlot::test1d\", \"xarray/tests/test_plot.py::TestPlot::test_1d_bool\", \"xarray/tests/test_plot.py::TestPlot::test_1d_x_y_kw\", \"xarray/tests/test_plot.py::TestPlot::test_multiindex_level_as_coord\", \"xarray/tests/test_plot.py::TestPlot::test_infer_line_data\", \"xarray/tests/test_plot.py::TestPlot::test_line_plot_along_1d_coord\", \"xarray/tests/test_plot.py::TestPlot::test_line_plot_wrong_hue\", \"xarray/tests/test_plot.py::TestPlot::test_2d_line\", \"xarray/tests/test_plot.py::TestPlot::test_2d_line_accepts_legend_kw\", \"xarray/tests/test_plot.py::TestPlot::test_2d_line_accepts_x_kw\", \"xarray/tests/test_plot.py::TestPlot::test_2d_line_accepts_hue_kw\", \"xarray/tests/test_plot.py::TestPlot::test_2d_coords_line_plot\", \"xarray/tests/test_plot.py::TestPlot::test_2d_coord_line_plot_coords_transpose_invariant\", \"xarray/tests/test_plot.py::TestPlot::test_2d_before_squeeze\", \"xarray/tests/test_plot.py::TestPlot::test2d_uniform_calls_imshow\", \"xarray/tests/test_plot.py::TestPlot::test2d_1d_2d_coordinates_contourf\", \"xarray/tests/test_plot.py::TestPlot::test2d_1d_2d_coordinates_pcolormesh\", \"xarray/tests/test_plot.py::TestPlot::test_contourf_cmap_set\", \"xarray/tests/test_plot.py::TestPlot::test_contourf_cmap_set_with_bad_under_over\", \"xarray/tests/test_plot.py::TestPlot::test3d\", \"xarray/tests/test_plot.py::TestPlot::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestPlot::test__infer_interval_breaks\", \"xarray/tests/test_plot.py::TestPlot::test__infer_interval_breaks_logscale\", \"xarray/tests/test_plot.py::TestPlot::test__infer_interval_breaks_logscale_invalid_coords\", \"xarray/tests/test_plot.py::TestPlot::test_geo_data\", \"xarray/tests/test_plot.py::TestPlot::test_datetime_dimension\", \"xarray/tests/test_plot.py::TestPlot::test_convenient_facetgrid\", \"xarray/tests/test_plot.py::TestPlot::test_subplot_kws\", \"xarray/tests/test_plot.py::TestPlot::test_plot_size\", \"xarray/tests/test_plot.py::TestPlot::test_convenient_facetgrid_4d\", \"xarray/tests/test_plot.py::TestPlot::test_coord_with_interval\", \"xarray/tests/test_plot.py::TestPlot::test_coord_with_interval_x\", \"xarray/tests/test_plot.py::TestPlot::test_coord_with_interval_y\", \"xarray/tests/test_plot.py::TestPlot::test_coord_with_interval_xy\", \"xarray/tests/test_plot.py::TestPlot::test_labels_with_units_with_interval[x]\", \"xarray/tests/test_plot.py::TestPlot::test_labels_with_units_with_interval[y]\", \"xarray/tests/test_plot.py::TestPlot1D::test_xlabel_is_index_name\", \"xarray/tests/test_plot.py::TestPlot1D::test_no_label_name_on_x_axis\", \"xarray/tests/test_plot.py::TestPlot1D::test_no_label_name_on_y_axis\", \"xarray/tests/test_plot.py::TestPlot1D::test_ylabel_is_data_name\", \"xarray/tests/test_plot.py::TestPlot1D::test_xlabel_is_data_name\", \"xarray/tests/test_plot.py::TestPlot1D::test_format_string\", \"xarray/tests/test_plot.py::TestPlot1D::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestPlot1D::test_nonnumeric_index\", \"xarray/tests/test_plot.py::TestPlot1D::test_primitive_returned\", \"xarray/tests/test_plot.py::TestPlot1D::test_plot_nans\", \"xarray/tests/test_plot.py::TestPlot1D::test_x_ticks_are_rotated_for_time\", \"xarray/tests/test_plot.py::TestPlot1D::test_xyincrease_false_changes_axes\", \"xarray/tests/test_plot.py::TestPlot1D::test_slice_in_title\", \"xarray/tests/test_plot.py::TestPlotStep::test_step\", \"xarray/tests/test_plot.py::TestPlotStep::test_step_with_where[pre]\", \"xarray/tests/test_plot.py::TestPlotStep::test_step_with_where[post]\", \"xarray/tests/test_plot.py::TestPlotStep::test_step_with_where[mid]\", \"xarray/tests/test_plot.py::TestPlotStep::test_coord_with_interval_step\", \"xarray/tests/test_plot.py::TestPlotStep::test_coord_with_interval_step_x\", \"xarray/tests/test_plot.py::TestPlotStep::test_coord_with_interval_step_y\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_3d_array\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_xlabel_uses_name\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_title_is_histogram\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_can_pass_in_kwargs\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_primitive_returned\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_plot_nans\", \"xarray/tests/test_plot.py::TestPlotHistogram::test_hist_coord_with_interval\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_robust\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_center\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_cmap_sequential_option\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_cmap_sequential_explicit_option\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_cmap_divergent_option\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_nan_inf_are_ignored\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_integer_levels\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_list_levels\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_divergentcontrol\", \"xarray/tests/test_plot.py::TestDetermineCmapParams::test_norm_sets_vmin_vmax\", \"xarray/tests/test_plot.py::TestDiscreteColorMap::test_recover_from_seaborn_jet_exception\", \"xarray/tests/test_plot.py::TestDiscreteColorMap::test_build_discrete_cmap\", \"xarray/tests/test_plot.py::TestDiscreteColorMap::test_discrete_colormap_list_of_levels\", \"xarray/tests/test_plot.py::TestDiscreteColorMap::test_discrete_colormap_int_levels\", \"xarray/tests/test_plot.py::TestDiscreteColorMap::test_discrete_colormap_list_levels_and_vmin_or_vmax\", \"xarray/tests/test_plot.py::TestDiscreteColorMap::test_discrete_colormap_provided_boundary_norm\", \"xarray/tests/test_plot.py::TestContourf::test_label_names\", \"xarray/tests/test_plot.py::TestContourf::test_1d_raises_valueerror\", \"xarray/tests/test_plot.py::TestContourf::test_bool\", \"xarray/tests/test_plot.py::TestContourf::test_complex_raises_typeerror\", \"xarray/tests/test_plot.py::TestContourf::test_3d_raises_valueerror\", \"xarray/tests/test_plot.py::TestContourf::test_nonnumeric_index\", \"xarray/tests/test_plot.py::TestContourf::test_multiindex_raises_typeerror\", \"xarray/tests/test_plot.py::TestContourf::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestContourf::test_xyincrease_defaults\", \"xarray/tests/test_plot.py::TestContourf::test_xyincrease_false_changes_axes\", \"xarray/tests/test_plot.py::TestContourf::test_xyincrease_true_changes_axes\", \"xarray/tests/test_plot.py::TestContourf::test_x_ticks_are_rotated_for_time\", \"xarray/tests/test_plot.py::TestContourf::test_plot_nans\", \"xarray/tests/test_plot.py::TestContourf::test_can_plot_all_nans\", \"xarray/tests/test_plot.py::TestContourf::test_can_plot_axis_size_one\", \"xarray/tests/test_plot.py::TestContourf::test_disallows_rgb_arg\", \"xarray/tests/test_plot.py::TestContourf::test_viridis_cmap\", \"xarray/tests/test_plot.py::TestContourf::test_default_cmap\", \"xarray/tests/test_plot.py::TestContourf::test_seaborn_palette_as_cmap\", \"xarray/tests/test_plot.py::TestContourf::test_can_change_default_cmap\", \"xarray/tests/test_plot.py::TestContourf::test_diverging_color_limits\", \"xarray/tests/test_plot.py::TestContourf::test_xy_strings\", \"xarray/tests/test_plot.py::TestContourf::test_positional_coord_string\", \"xarray/tests/test_plot.py::TestContourf::test_bad_x_string_exception\", \"xarray/tests/test_plot.py::TestContourf::test_coord_strings\", \"xarray/tests/test_plot.py::TestContourf::test_non_linked_coords\", \"xarray/tests/test_plot.py::TestContourf::test_non_linked_coords_transpose\", \"xarray/tests/test_plot.py::TestContourf::test_multiindex_level_as_coord\", \"xarray/tests/test_plot.py::TestContourf::test_default_title\", \"xarray/tests/test_plot.py::TestContourf::test_colorbar_default_label\", \"xarray/tests/test_plot.py::TestContourf::test_no_labels\", \"xarray/tests/test_plot.py::TestContourf::test_colorbar_kwargs\", \"xarray/tests/test_plot.py::TestContourf::test_verbose_facetgrid\", \"xarray/tests/test_plot.py::TestContourf::test_2d_function_and_method_signature_same\", \"xarray/tests/test_plot.py::TestContourf::test_convenient_facetgrid\", \"xarray/tests/test_plot.py::TestContourf::test_convenient_facetgrid_4d\", \"xarray/tests/test_plot.py::TestContourf::test_facetgrid_map_only_appends_mappables\", \"xarray/tests/test_plot.py::TestContourf::test_facetgrid_cmap\", \"xarray/tests/test_plot.py::TestContourf::test_facetgrid_cbar_kwargs\", \"xarray/tests/test_plot.py::TestContourf::test_facetgrid_no_cbar_ax\", \"xarray/tests/test_plot.py::TestContourf::test_cmap_and_color_both\", \"xarray/tests/test_plot.py::TestContourf::test_2d_coord_with_interval\", \"xarray/tests/test_plot.py::TestContourf::test_colormap_error_norm_and_vmin_vmax\", \"xarray/tests/test_plot.py::TestContourf::test_primitive_artist_returned\", \"xarray/tests/test_plot.py::TestContourf::test_extend\", \"xarray/tests/test_plot.py::TestContourf::test_2d_coord_names\", \"xarray/tests/test_plot.py::TestContourf::test_levels\", \"xarray/tests/test_plot.py::TestContour::test_label_names\", \"xarray/tests/test_plot.py::TestContour::test_1d_raises_valueerror\", \"xarray/tests/test_plot.py::TestContour::test_bool\", \"xarray/tests/test_plot.py::TestContour::test_complex_raises_typeerror\", \"xarray/tests/test_plot.py::TestContour::test_3d_raises_valueerror\", \"xarray/tests/test_plot.py::TestContour::test_nonnumeric_index\", \"xarray/tests/test_plot.py::TestContour::test_multiindex_raises_typeerror\", \"xarray/tests/test_plot.py::TestContour::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestContour::test_xyincrease_defaults\", \"xarray/tests/test_plot.py::TestContour::test_xyincrease_false_changes_axes\", \"xarray/tests/test_plot.py::TestContour::test_xyincrease_true_changes_axes\", \"xarray/tests/test_plot.py::TestContour::test_x_ticks_are_rotated_for_time\", \"xarray/tests/test_plot.py::TestContour::test_plot_nans\", \"xarray/tests/test_plot.py::TestContour::test_can_plot_all_nans\", \"xarray/tests/test_plot.py::TestContour::test_can_plot_axis_size_one\", \"xarray/tests/test_plot.py::TestContour::test_disallows_rgb_arg\", \"xarray/tests/test_plot.py::TestContour::test_viridis_cmap\", \"xarray/tests/test_plot.py::TestContour::test_default_cmap\", \"xarray/tests/test_plot.py::TestContour::test_seaborn_palette_as_cmap\", \"xarray/tests/test_plot.py::TestContour::test_can_change_default_cmap\", \"xarray/tests/test_plot.py::TestContour::test_diverging_color_limits\", \"xarray/tests/test_plot.py::TestContour::test_xy_strings\", \"xarray/tests/test_plot.py::TestContour::test_positional_coord_string\", \"xarray/tests/test_plot.py::TestContour::test_bad_x_string_exception\", \"xarray/tests/test_plot.py::TestContour::test_coord_strings\", \"xarray/tests/test_plot.py::TestContour::test_non_linked_coords\", \"xarray/tests/test_plot.py::TestContour::test_non_linked_coords_transpose\", \"xarray/tests/test_plot.py::TestContour::test_multiindex_level_as_coord\", \"xarray/tests/test_plot.py::TestContour::test_default_title\", \"xarray/tests/test_plot.py::TestContour::test_colorbar_default_label\", \"xarray/tests/test_plot.py::TestContour::test_no_labels\", \"xarray/tests/test_plot.py::TestContour::test_colorbar_kwargs\", \"xarray/tests/test_plot.py::TestContour::test_verbose_facetgrid\", \"xarray/tests/test_plot.py::TestContour::test_2d_function_and_method_signature_same\", \"xarray/tests/test_plot.py::TestContour::test_convenient_facetgrid\", \"xarray/tests/test_plot.py::TestContour::test_convenient_facetgrid_4d\", \"xarray/tests/test_plot.py::TestContour::test_facetgrid_map_only_appends_mappables\", \"xarray/tests/test_plot.py::TestContour::test_facetgrid_cmap\", \"xarray/tests/test_plot.py::TestContour::test_facetgrid_cbar_kwargs\", \"xarray/tests/test_plot.py::TestContour::test_facetgrid_no_cbar_ax\", \"xarray/tests/test_plot.py::TestContour::test_2d_coord_with_interval\", \"xarray/tests/test_plot.py::TestContour::test_colormap_error_norm_and_vmin_vmax\", \"xarray/tests/test_plot.py::TestContour::test_colors\", \"xarray/tests/test_plot.py::TestContour::test_colors_np_levels\", \"xarray/tests/test_plot.py::TestContour::test_cmap_and_color_both\", \"xarray/tests/test_plot.py::TestContour::test_2d_coord_names\", \"xarray/tests/test_plot.py::TestContour::test_single_level\", \"xarray/tests/test_plot.py::TestPcolormesh::test_label_names\", \"xarray/tests/test_plot.py::TestPcolormesh::test_1d_raises_valueerror\", \"xarray/tests/test_plot.py::TestPcolormesh::test_bool\", \"xarray/tests/test_plot.py::TestPcolormesh::test_complex_raises_typeerror\", \"xarray/tests/test_plot.py::TestPcolormesh::test_3d_raises_valueerror\", \"xarray/tests/test_plot.py::TestPcolormesh::test_nonnumeric_index\", \"xarray/tests/test_plot.py::TestPcolormesh::test_multiindex_raises_typeerror\", \"xarray/tests/test_plot.py::TestPcolormesh::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestPcolormesh::test_xyincrease_defaults\", \"xarray/tests/test_plot.py::TestPcolormesh::test_xyincrease_false_changes_axes\", \"xarray/tests/test_plot.py::TestPcolormesh::test_xyincrease_true_changes_axes\", \"xarray/tests/test_plot.py::TestPcolormesh::test_x_ticks_are_rotated_for_time\", \"xarray/tests/test_plot.py::TestPcolormesh::test_plot_nans\", \"xarray/tests/test_plot.py::TestPcolormesh::test_can_plot_all_nans\", \"xarray/tests/test_plot.py::TestPcolormesh::test_can_plot_axis_size_one\", \"xarray/tests/test_plot.py::TestPcolormesh::test_disallows_rgb_arg\", \"xarray/tests/test_plot.py::TestPcolormesh::test_viridis_cmap\", \"xarray/tests/test_plot.py::TestPcolormesh::test_default_cmap\", \"xarray/tests/test_plot.py::TestPcolormesh::test_seaborn_palette_as_cmap\", \"xarray/tests/test_plot.py::TestPcolormesh::test_can_change_default_cmap\", \"xarray/tests/test_plot.py::TestPcolormesh::test_diverging_color_limits\", \"xarray/tests/test_plot.py::TestPcolormesh::test_xy_strings\", \"xarray/tests/test_plot.py::TestPcolormesh::test_positional_coord_string\", \"xarray/tests/test_plot.py::TestPcolormesh::test_bad_x_string_exception\", \"xarray/tests/test_plot.py::TestPcolormesh::test_coord_strings\", \"xarray/tests/test_plot.py::TestPcolormesh::test_non_linked_coords\", \"xarray/tests/test_plot.py::TestPcolormesh::test_non_linked_coords_transpose\", \"xarray/tests/test_plot.py::TestPcolormesh::test_multiindex_level_as_coord\", \"xarray/tests/test_plot.py::TestPcolormesh::test_default_title\", \"xarray/tests/test_plot.py::TestPcolormesh::test_colorbar_default_label\", \"xarray/tests/test_plot.py::TestPcolormesh::test_no_labels\", \"xarray/tests/test_plot.py::TestPcolormesh::test_colorbar_kwargs\", \"xarray/tests/test_plot.py::TestPcolormesh::test_verbose_facetgrid\", \"xarray/tests/test_plot.py::TestPcolormesh::test_2d_function_and_method_signature_same\", \"xarray/tests/test_plot.py::TestPcolormesh::test_convenient_facetgrid\", \"xarray/tests/test_plot.py::TestPcolormesh::test_convenient_facetgrid_4d\", \"xarray/tests/test_plot.py::TestPcolormesh::test_facetgrid_map_only_appends_mappables\", \"xarray/tests/test_plot.py::TestPcolormesh::test_facetgrid_cmap\", \"xarray/tests/test_plot.py::TestPcolormesh::test_facetgrid_cbar_kwargs\", \"xarray/tests/test_plot.py::TestPcolormesh::test_facetgrid_no_cbar_ax\", \"xarray/tests/test_plot.py::TestPcolormesh::test_cmap_and_color_both\", \"xarray/tests/test_plot.py::TestPcolormesh::test_2d_coord_with_interval\", \"xarray/tests/test_plot.py::TestPcolormesh::test_colormap_error_norm_and_vmin_vmax\", \"xarray/tests/test_plot.py::TestPcolormesh::test_primitive_artist_returned\", \"xarray/tests/test_plot.py::TestPcolormesh::test_everything_plotted\", \"xarray/tests/test_plot.py::TestPcolormesh::test_2d_coord_names\", \"xarray/tests/test_plot.py::TestPcolormesh::test_dont_infer_interval_breaks_for_cartopy\", \"xarray/tests/test_plot.py::TestPcolormeshLogscale::test_interval_breaks_logspace\", \"xarray/tests/test_plot.py::TestImshow::test_label_names\", \"xarray/tests/test_plot.py::TestImshow::test_1d_raises_valueerror\", \"xarray/tests/test_plot.py::TestImshow::test_bool\", \"xarray/tests/test_plot.py::TestImshow::test_complex_raises_typeerror\", \"xarray/tests/test_plot.py::TestImshow::test_nonnumeric_index\", \"xarray/tests/test_plot.py::TestImshow::test_multiindex_raises_typeerror\", \"xarray/tests/test_plot.py::TestImshow::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestImshow::test_xyincrease_defaults\", \"xarray/tests/test_plot.py::TestImshow::test_xyincrease_false_changes_axes\", \"xarray/tests/test_plot.py::TestImshow::test_xyincrease_true_changes_axes\", \"xarray/tests/test_plot.py::TestImshow::test_x_ticks_are_rotated_for_time\", \"xarray/tests/test_plot.py::TestImshow::test_plot_nans\", \"xarray/tests/test_plot.py::TestImshow::test_can_plot_all_nans\", \"xarray/tests/test_plot.py::TestImshow::test_can_plot_axis_size_one\", \"xarray/tests/test_plot.py::TestImshow::test_disallows_rgb_arg\", \"xarray/tests/test_plot.py::TestImshow::test_viridis_cmap\", \"xarray/tests/test_plot.py::TestImshow::test_default_cmap\", \"xarray/tests/test_plot.py::TestImshow::test_seaborn_palette_as_cmap\", \"xarray/tests/test_plot.py::TestImshow::test_can_change_default_cmap\", \"xarray/tests/test_plot.py::TestImshow::test_diverging_color_limits\", \"xarray/tests/test_plot.py::TestImshow::test_xy_strings\", \"xarray/tests/test_plot.py::TestImshow::test_positional_coord_string\", \"xarray/tests/test_plot.py::TestImshow::test_bad_x_string_exception\", \"xarray/tests/test_plot.py::TestImshow::test_coord_strings\", \"xarray/tests/test_plot.py::TestImshow::test_non_linked_coords\", \"xarray/tests/test_plot.py::TestImshow::test_non_linked_coords_transpose\", \"xarray/tests/test_plot.py::TestImshow::test_multiindex_level_as_coord\", \"xarray/tests/test_plot.py::TestImshow::test_default_title\", \"xarray/tests/test_plot.py::TestImshow::test_colorbar_default_label\", \"xarray/tests/test_plot.py::TestImshow::test_no_labels\", \"xarray/tests/test_plot.py::TestImshow::test_colorbar_kwargs\", \"xarray/tests/test_plot.py::TestImshow::test_verbose_facetgrid\", \"xarray/tests/test_plot.py::TestImshow::test_2d_function_and_method_signature_same\", \"xarray/tests/test_plot.py::TestImshow::test_convenient_facetgrid\", \"xarray/tests/test_plot.py::TestImshow::test_convenient_facetgrid_4d\", \"xarray/tests/test_plot.py::TestImshow::test_facetgrid_map_only_appends_mappables\", \"xarray/tests/test_plot.py::TestImshow::test_facetgrid_cmap\", \"xarray/tests/test_plot.py::TestImshow::test_facetgrid_cbar_kwargs\", \"xarray/tests/test_plot.py::TestImshow::test_facetgrid_no_cbar_ax\", \"xarray/tests/test_plot.py::TestImshow::test_cmap_and_color_both\", \"xarray/tests/test_plot.py::TestImshow::test_2d_coord_with_interval\", \"xarray/tests/test_plot.py::TestImshow::test_colormap_error_norm_and_vmin_vmax\", \"xarray/tests/test_plot.py::TestImshow::test_imshow_called\", \"xarray/tests/test_plot.py::TestImshow::test_xy_pixel_centered\", \"xarray/tests/test_plot.py::TestImshow::test_default_aspect_is_auto\", \"xarray/tests/test_plot.py::TestImshow::test_cannot_change_mpl_aspect\", \"xarray/tests/test_plot.py::TestImshow::test_primitive_artist_returned\", \"xarray/tests/test_plot.py::TestImshow::test_seaborn_palette_needs_levels\", \"xarray/tests/test_plot.py::TestImshow::test_2d_coord_names\", \"xarray/tests/test_plot.py::TestImshow::test_plot_rgb_image\", \"xarray/tests/test_plot.py::TestImshow::test_plot_rgb_image_explicit\", \"xarray/tests/test_plot.py::TestImshow::test_plot_rgb_faceted\", \"xarray/tests/test_plot.py::TestImshow::test_plot_rgba_image_transposed\", \"xarray/tests/test_plot.py::TestImshow::test_warns_ambigious_dim\", \"xarray/tests/test_plot.py::TestImshow::test_rgb_errors_too_many_dims\", \"xarray/tests/test_plot.py::TestImshow::test_rgb_errors_bad_dim_sizes\", \"xarray/tests/test_plot.py::TestImshow::test_normalize_rgb_imshow\", \"xarray/tests/test_plot.py::TestImshow::test_normalize_rgb_one_arg_error\", \"xarray/tests/test_plot.py::TestImshow::test_imshow_rgb_values_in_valid_range\", \"xarray/tests/test_plot.py::TestImshow::test_regression_rgb_imshow_dim_size_one\", \"xarray/tests/test_plot.py::TestImshow::test_origin_overrides_xyincrease\", \"xarray/tests/test_plot.py::TestSurface::test_label_names\", \"xarray/tests/test_plot.py::TestSurface::test_1d_raises_valueerror\", \"xarray/tests/test_plot.py::TestSurface::test_bool\", \"xarray/tests/test_plot.py::TestSurface::test_complex_raises_typeerror\", \"xarray/tests/test_plot.py::TestSurface::test_3d_raises_valueerror\", \"xarray/tests/test_plot.py::TestSurface::test_nonnumeric_index\", \"xarray/tests/test_plot.py::TestSurface::test_multiindex_raises_typeerror\", \"xarray/tests/test_plot.py::TestSurface::test_xyincrease_defaults\", \"xarray/tests/test_plot.py::TestSurface::test_x_ticks_are_rotated_for_time\", \"xarray/tests/test_plot.py::TestSurface::test_plot_nans\", \"xarray/tests/test_plot.py::TestSurface::test_can_plot_all_nans\", \"xarray/tests/test_plot.py::TestSurface::test_can_plot_axis_size_one\", \"xarray/tests/test_plot.py::TestSurface::test_disallows_rgb_arg\", \"xarray/tests/test_plot.py::TestSurface::test_xy_strings\", \"xarray/tests/test_plot.py::TestSurface::test_positional_coord_string\", \"xarray/tests/test_plot.py::TestSurface::test_bad_x_string_exception\", \"xarray/tests/test_plot.py::TestSurface::test_coord_strings\", \"xarray/tests/test_plot.py::TestSurface::test_non_linked_coords\", \"xarray/tests/test_plot.py::TestSurface::test_non_linked_coords_transpose\", \"xarray/tests/test_plot.py::TestSurface::test_multiindex_level_as_coord\", \"xarray/tests/test_plot.py::TestSurface::test_default_title\", \"xarray/tests/test_plot.py::TestSurface::test_no_labels\", \"xarray/tests/test_plot.py::TestSurface::test_verbose_facetgrid\", \"xarray/tests/test_plot.py::TestSurface::test_2d_function_and_method_signature_same\", \"xarray/tests/test_plot.py::TestSurface::test_convenient_facetgrid_4d\", \"xarray/tests/test_plot.py::TestSurface::test_facetgrid_cmap\", \"xarray/tests/test_plot.py::TestSurface::test_facetgrid_cbar_kwargs\", \"xarray/tests/test_plot.py::TestSurface::test_facetgrid_no_cbar_ax\", \"xarray/tests/test_plot.py::TestSurface::test_2d_coord_with_interval\", \"xarray/tests/test_plot.py::TestSurface::test_colormap_error_norm_and_vmin_vmax\", \"xarray/tests/test_plot.py::TestSurface::test_primitive_artist_returned\", \"xarray/tests/test_plot.py::TestSurface::test_2d_coord_names\", \"xarray/tests/test_plot.py::TestSurface::test_can_pass_in_axis\", \"xarray/tests/test_plot.py::TestSurface::test_seaborn_palette_as_cmap\", \"xarray/tests/test_plot.py::TestSurface::test_convenient_facetgrid\", \"xarray/tests/test_plot.py::TestSurface::test_viridis_cmap\", \"xarray/tests/test_plot.py::TestSurface::test_can_change_default_cmap\", \"xarray/tests/test_plot.py::TestSurface::test_colorbar_default_label\", \"xarray/tests/test_plot.py::TestSurface::test_facetgrid_map_only_appends_mappables\", \"xarray/tests/test_plot.py::TestFacetGrid::test_no_args\", \"xarray/tests/test_plot.py::TestFacetGrid::test_names_appear_somewhere\", \"xarray/tests/test_plot.py::TestFacetGrid::test_text_not_super_long\", \"xarray/tests/test_plot.py::TestFacetGrid::test_colorbar\", \"xarray/tests/test_plot.py::TestFacetGrid::test_empty_cell\", \"xarray/tests/test_plot.py::TestFacetGrid::test_norow_nocol_error\", \"xarray/tests/test_plot.py::TestFacetGrid::test_groups\", \"xarray/tests/test_plot.py::TestFacetGrid::test_float_index\", \"xarray/tests/test_plot.py::TestFacetGrid::test_nonunique_index_error\", \"xarray/tests/test_plot.py::TestFacetGrid::test_robust\", \"xarray/tests/test_plot.py::TestFacetGrid::test_can_set_vmin_vmax\", \"xarray/tests/test_plot.py::TestFacetGrid::test_vmin_vmax_equal\", \"xarray/tests/test_plot.py::TestFacetGrid::test_can_set_norm\", \"xarray/tests/test_plot.py::TestFacetGrid::test_figure_size\", \"xarray/tests/test_plot.py::TestFacetGrid::test_num_ticks\", \"xarray/tests/test_plot.py::TestFacetGrid::test_map\", \"xarray/tests/test_plot.py::TestFacetGrid::test_map_dataset\", \"xarray/tests/test_plot.py::TestFacetGrid::test_set_axis_labels\", \"xarray/tests/test_plot.py::TestFacetGrid::test_facetgrid_colorbar\", \"xarray/tests/test_plot.py::TestFacetGrid::test_facetgrid_polar\", \"xarray/tests/test_plot.py::TestFacetGrid4d::test_default_labels\", \"xarray/tests/test_plot.py::TestFacetedLinePlotsLegend::test_legend_labels\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_facetgrid_shape\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_unnamed_args\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_default_labels\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_test_empty_cell\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_set_axis_labels\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_axes_in_faceted_plot\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_figsize_and_size\", \"xarray/tests/test_plot.py::TestFacetedLinePlots::test_wrong_num_of_dimensions\", \"xarray/tests/test_plot.py::TestDatasetQuiverPlots::test_quiver\", \"xarray/tests/test_plot.py::TestDatasetQuiverPlots::test_facetgrid\", \"xarray/tests/test_plot.py::TestDatasetStreamplotPlots::test_streamline\", \"xarray/tests/test_plot.py::TestDatasetStreamplotPlots::test_facetgrid\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_accessor\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_add_guide[None-None-False-True]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_add_guide[False-None-False-False]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_add_guide[True-None-False-True]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_add_guide[True-continuous-False-True]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_add_guide[False-discrete-False-False]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_add_guide[True-discrete-True-False]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_facetgrid_shape\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_default_labels\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_axes_in_faceted_plot\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_figsize_and_size\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_bad_args[A-B-something-True]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_bad_args[A-B-discrete-True]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_bad_args[A-B-None-True]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_bad_args[A-The\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_bad_args[The\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_facetgrid_hue_style\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_scatter[A-B-x-col]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_scatter[x-row-A-B]\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_non_numeric_legend\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_legend_labels\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_legend_labels_facetgrid\", \"xarray/tests/test_plot.py::TestDatasetScatterPlots::test_add_legend_by_default\", \"xarray/tests/test_plot.py::TestDatetimePlot::test_datetime_line_plot\", \"xarray/tests/test_plot.py::TestCFDatetimePlot::test_cfdatetime_line_plot\", \"xarray/tests/test_plot.py::TestCFDatetimePlot::test_cfdatetime_pcolormesh_plot\", \"xarray/tests/test_plot.py::TestCFDatetimePlot::test_cfdatetime_contour_plot\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xincrease_kwarg[1-True]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xincrease_kwarg[1-False]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xincrease_kwarg[2-True]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xincrease_kwarg[2-False]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xincrease_kwarg[3-True]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xincrease_kwarg[3-False]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yincrease_kwarg[1-True]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yincrease_kwarg[1-False]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yincrease_kwarg[2-True]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yincrease_kwarg[2-False]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yincrease_kwarg[3-True]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yincrease_kwarg[3-False]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[1-linear]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[1-logit]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[1-symlog]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[2-linear]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[2-logit]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[2-symlog]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[3-linear]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[3-logit]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_kwarg[3-symlog]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[1-linear]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[1-logit]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[1-symlog]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[2-linear]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[2-logit]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[2-symlog]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[3-linear]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[3-logit]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_kwarg[3-symlog]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_log_kwarg[1]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xscale_log_kwarg[2]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_log_kwarg[1]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yscale_log_kwarg[2]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xlim_kwarg[1]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xlim_kwarg[2]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xlim_kwarg[3]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_ylim_kwarg[1]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_ylim_kwarg[2]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_ylim_kwarg[3]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xticks_kwarg[1]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xticks_kwarg[2]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_xticks_kwarg[3]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yticks_kwarg[1]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yticks_kwarg[2]\", \"xarray/tests/test_plot.py::TestAxesKwargs::test_yticks_kwarg[3]\", \"xarray/tests/test_plot.py::test_plot_transposed_nondim_coord[pcolormesh]\", \"xarray/tests/test_plot.py::test_plot_transposed_nondim_coord[contourf]\", \"xarray/tests/test_plot.py::test_plot_transposed_nondim_coord[contour]\", \"xarray/tests/test_plot.py::test_plot_transposes_properly[pcolormesh]\", \"xarray/tests/test_plot.py::test_plot_transposes_properly[imshow]\", \"xarray/tests/test_plot.py::test_facetgrid_single_contour\", \"xarray/tests/test_plot.py::test_get_axis\", \"xarray/tests/test_plot.py::test_get_axis_cartopy\", \"xarray/tests/test_plot.py::test_maybe_gca\", \"xarray/tests/test_plot.py::test_datarray_scatter[A-B-None-None-None-None-None-None-None]\", \"xarray/tests/test_plot.py::test_datarray_scatter[B-A-None-w-None-None-None-True-None]\", \"xarray/tests/test_plot.py::test_datarray_scatter[A-B-z-None-None-None-None-None-None]\", \"xarray/tests/test_plot.py::test_datarray_scatter[B-A-z-w-None-None-None-True-None]\"]",
  "environment_setup_commit": "df7646182b17d829fe9b2199aebf649ddb2ed480",
  "_download_metadata": {
    "downloaded_at": "2025-10-07T21:23:30.890941",
    "dataset_name": "swe-bench",
    "split": "test",
    "downloader_version": "0.1.0"
  }
}