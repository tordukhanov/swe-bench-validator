{
  "repo": "django/django",
  "instance_id": "django__django-14463",
  "base_commit": "68ef274bc505cd44f305c03cbf84cf08826200a8",
  "patch": "diff --git a/django/core/management/commands/inspectdb.py b/django/core/management/commands/inspectdb.py\n--- a/django/core/management/commands/inspectdb.py\n+++ b/django/core/management/commands/inspectdb.py\n@@ -78,18 +78,16 @@ def table2model(table_name):\n             )\n             yield \"from %s import models\" % self.db_module\n             known_models = []\n-            table_info = connection.introspection.get_table_list(cursor)\n-\n             # Determine types of tables and/or views to be introspected.\n             types = {\"t\"}\n             if options[\"include_partitions\"]:\n                 types.add(\"p\")\n             if options[\"include_views\"]:\n                 types.add(\"v\")\n+            table_info = connection.introspection.get_table_list(cursor)\n+            table_info = {info.name: info for info in table_info if info.type in types}\n \n-            for table_name in options[\"table\"] or sorted(\n-                info.name for info in table_info if info.type in types\n-            ):\n+            for table_name in options[\"table\"] or sorted(name for name in table_info):\n                 if table_name_filter is not None and callable(table_name_filter):\n                     if not table_name_filter(table_name):\n                         continue\n@@ -232,6 +230,10 @@ def table2model(table_name):\n                     if field_type.startswith((\"ForeignKey(\", \"OneToOneField(\")):\n                         field_desc += \", models.DO_NOTHING\"\n \n+                    # Add comment.\n+                    if connection.features.supports_comments and row.comment:\n+                        extra_params[\"db_comment\"] = row.comment\n+\n                     if extra_params:\n                         if not field_desc.endswith(\"(\"):\n                             field_desc += \", \"\n@@ -242,14 +244,22 @@ def table2model(table_name):\n                     if comment_notes:\n                         field_desc += \"  # \" + \" \".join(comment_notes)\n                     yield \"    %s\" % field_desc\n-                is_view = any(\n-                    info.name == table_name and info.type == \"v\" for info in table_info\n-                )\n-                is_partition = any(\n-                    info.name == table_name and info.type == \"p\" for info in table_info\n-                )\n+                comment = None\n+                if info := table_info.get(table_name):\n+                    is_view = info.type == \"v\"\n+                    is_partition = info.type == \"p\"\n+                    if connection.features.supports_comments:\n+                        comment = info.comment\n+                else:\n+                    is_view = False\n+                    is_partition = False\n                 yield from self.get_meta(\n-                    table_name, constraints, column_to_field_name, is_view, is_partition\n+                    table_name,\n+                    constraints,\n+                    column_to_field_name,\n+                    is_view,\n+                    is_partition,\n+                    comment,\n                 )\n \n     def normalize_col_name(self, col_name, used_column_names, is_relation):\n@@ -353,7 +363,13 @@ def get_field_type(self, connection, table_name, row):\n         return field_type, field_params, field_notes\n \n     def get_meta(\n-        self, table_name, constraints, column_to_field_name, is_view, is_partition\n+        self,\n+        table_name,\n+        constraints,\n+        column_to_field_name,\n+        is_view,\n+        is_partition,\n+        comment,\n     ):\n         \"\"\"\n         Return a sequence comprising the lines of code necessary\n@@ -391,4 +407,6 @@ def get_meta(\n         if unique_together:\n             tup = \"(\" + \", \".join(unique_together) + \",)\"\n             meta += [\"        unique_together = %s\" % tup]\n+        if comment:\n+            meta += [f\"        db_table_comment = {comment!r}\"]\n         return meta\ndiff --git a/django/db/backends/base/features.py b/django/db/backends/base/features.py\n--- a/django/db/backends/base/features.py\n+++ b/django/db/backends/base/features.py\n@@ -334,6 +334,11 @@ class BaseDatabaseFeatures:\n     # Does the backend support non-deterministic collations?\n     supports_non_deterministic_collations = True\n \n+    # Does the backend support column and table comments?\n+    supports_comments = False\n+    # Does the backend support column comments in ADD COLUMN statements?\n+    supports_comments_inline = False\n+\n     # Does the backend support the logical XOR operator?\n     supports_logical_xor = False\n \ndiff --git a/django/db/backends/base/schema.py b/django/db/backends/base/schema.py\n--- a/django/db/backends/base/schema.py\n+++ b/django/db/backends/base/schema.py\n@@ -141,6 +141,9 @@ class BaseDatabaseSchemaEditor:\n \n     sql_delete_procedure = \"DROP PROCEDURE %(procedure)s\"\n \n+    sql_alter_table_comment = \"COMMENT ON TABLE %(table)s IS %(comment)s\"\n+    sql_alter_column_comment = \"COMMENT ON COLUMN %(table)s.%(column)s IS %(comment)s\"\n+\n     def __init__(self, connection, collect_sql=False, atomic=True):\n         self.connection = connection\n         self.collect_sql = collect_sql\n@@ -289,6 +292,8 @@ def _iter_column_sql(\n         yield column_db_type\n         if collation := field_db_params.get(\"collation\"):\n             yield self._collate_sql(collation)\n+        if self.connection.features.supports_comments_inline and field.db_comment:\n+            yield self._comment_sql(field.db_comment)\n         # Work out nullability.\n         null = field.null\n         # Include a default value, if requested.\n@@ -445,6 +450,23 @@ def create_model(self, model):\n         # definition.\n         self.execute(sql, params or None)\n \n+        if self.connection.features.supports_comments:\n+            # Add table comment.\n+            if model._meta.db_table_comment:\n+                self.alter_db_table_comment(model, None, model._meta.db_table_comment)\n+            # Add column comments.\n+            if not self.connection.features.supports_comments_inline:\n+                for field in model._meta.local_fields:\n+                    if field.db_comment:\n+                        field_db_params = field.db_parameters(\n+                            connection=self.connection\n+                        )\n+                        field_type = field_db_params[\"type\"]\n+                        self.execute(\n+                            *self._alter_column_comment_sql(\n+                                model, field, field_type, field.db_comment\n+                            )\n+                        )\n         # Add any field index and index_together's (deferred as SQLite\n         # _remake_table needs it).\n         self.deferred_sql.extend(self._model_indexes_sql(model))\n@@ -614,6 +636,15 @@ def alter_db_table(self, model, old_db_table, new_db_table):\n             if isinstance(sql, Statement):\n                 sql.rename_table_references(old_db_table, new_db_table)\n \n+    def alter_db_table_comment(self, model, old_db_table_comment, new_db_table_comment):\n+        self.execute(\n+            self.sql_alter_table_comment\n+            % {\n+                \"table\": self.quote_name(model._meta.db_table),\n+                \"comment\": self.quote_value(new_db_table_comment or \"\"),\n+            }\n+        )\n+\n     def alter_db_tablespace(self, model, old_db_tablespace, new_db_tablespace):\n         \"\"\"Move a model's table between tablespaces.\"\"\"\n         self.execute(\n@@ -693,6 +724,18 @@ def add_field(self, model, field):\n                 \"changes\": changes_sql,\n             }\n             self.execute(sql, params)\n+        # Add field comment, if required.\n+        if (\n+            field.db_comment\n+            and self.connection.features.supports_comments\n+            and not self.connection.features.supports_comments_inline\n+        ):\n+            field_type = db_params[\"type\"]\n+            self.execute(\n+                *self._alter_column_comment_sql(\n+                    model, field, field_type, field.db_comment\n+                )\n+            )\n         # Add an index, if required\n         self.deferred_sql.extend(self._field_indexes_sql(model, field))\n         # Reset connection if required\n@@ -813,6 +856,11 @@ def _alter_field(\n             self.connection.features.supports_foreign_keys\n             and old_field.remote_field\n             and old_field.db_constraint\n+            and self._field_should_be_altered(\n+                old_field,\n+                new_field,\n+                ignore={\"db_comment\"},\n+            )\n         ):\n             fk_names = self._constraint_names(\n                 model, [old_field.column], foreign_key=True\n@@ -949,11 +997,15 @@ def _alter_field(\n         # Type suffix change? (e.g. auto increment).\n         old_type_suffix = old_field.db_type_suffix(connection=self.connection)\n         new_type_suffix = new_field.db_type_suffix(connection=self.connection)\n-        # Type or collation change?\n+        # Type, collation, or comment change?\n         if (\n             old_type != new_type\n             or old_type_suffix != new_type_suffix\n             or old_collation != new_collation\n+            or (\n+                self.connection.features.supports_comments\n+                and old_field.db_comment != new_field.db_comment\n+            )\n         ):\n             fragment, other_actions = self._alter_column_type_sql(\n                 model, old_field, new_field, new_type, old_collation, new_collation\n@@ -1211,12 +1263,26 @@ def _alter_column_type_sql(\n         an ALTER TABLE statement and a list of extra (sql, params) tuples to\n         run once the field is altered.\n         \"\"\"\n+        other_actions = []\n         if collate_sql := self._collate_sql(\n             new_collation, old_collation, model._meta.db_table\n         ):\n             collate_sql = f\" {collate_sql}\"\n         else:\n             collate_sql = \"\"\n+        # Comment change?\n+        comment_sql = \"\"\n+        if self.connection.features.supports_comments and not new_field.many_to_many:\n+            if old_field.db_comment != new_field.db_comment:\n+                # PostgreSQL and Oracle can't execute 'ALTER COLUMN ...' and\n+                # 'COMMENT ON ...' at the same time.\n+                sql, params = self._alter_column_comment_sql(\n+                    model, new_field, new_type, new_field.db_comment\n+                )\n+                if sql:\n+                    other_actions.append((sql, params))\n+            if new_field.db_comment:\n+                comment_sql = self._comment_sql(new_field.db_comment)\n         return (\n             (\n                 self.sql_alter_column_type\n@@ -1224,12 +1290,27 @@ def _alter_column_type_sql(\n                     \"column\": self.quote_name(new_field.column),\n                     \"type\": new_type,\n                     \"collation\": collate_sql,\n+                    \"comment\": comment_sql,\n                 },\n                 [],\n             ),\n+            other_actions,\n+        )\n+\n+    def _alter_column_comment_sql(self, model, new_field, new_type, new_db_comment):\n+        return (\n+            self.sql_alter_column_comment\n+            % {\n+                \"table\": self.quote_name(model._meta.db_table),\n+                \"column\": self.quote_name(new_field.column),\n+                \"comment\": self._comment_sql(new_db_comment),\n+            },\n             [],\n         )\n \n+    def _comment_sql(self, comment):\n+        return self.quote_value(comment or \"\")\n+\n     def _alter_many_to_many(self, model, old_field, new_field, strict):\n         \"\"\"Alter M2Ms to repoint their to= endpoints.\"\"\"\n         # Rename the through table\n@@ -1423,16 +1504,18 @@ def _field_indexes_sql(self, model, field):\n             output.append(self._create_index_sql(model, fields=[field]))\n         return output\n \n-    def _field_should_be_altered(self, old_field, new_field):\n+    def _field_should_be_altered(self, old_field, new_field, ignore=None):\n+        ignore = ignore or set()\n         _, old_path, old_args, old_kwargs = old_field.deconstruct()\n         _, new_path, new_args, new_kwargs = new_field.deconstruct()\n         # Don't alter when:\n         # - changing only a field name\n         # - changing an attribute that doesn't affect the schema\n+        # - changing an attribute in the provided set of ignored attributes\n         # - adding only a db_column and the column name is not changed\n-        for attr in old_field.non_db_attrs:\n+        for attr in ignore.union(old_field.non_db_attrs):\n             old_kwargs.pop(attr, None)\n-        for attr in new_field.non_db_attrs:\n+        for attr in ignore.union(new_field.non_db_attrs):\n             new_kwargs.pop(attr, None)\n         return self.quote_name(old_field.column) != self.quote_name(\n             new_field.column\ndiff --git a/django/db/backends/mysql/features.py b/django/db/backends/mysql/features.py\n--- a/django/db/backends/mysql/features.py\n+++ b/django/db/backends/mysql/features.py\n@@ -18,6 +18,8 @@ class DatabaseFeatures(BaseDatabaseFeatures):\n     requires_explicit_null_ordering_when_grouping = True\n     atomic_transactions = False\n     can_clone_databases = True\n+    supports_comments = True\n+    supports_comments_inline = True\n     supports_temporal_subtraction = True\n     supports_slicing_ordering_in_compound = True\n     supports_index_on_text_field = False\ndiff --git a/django/db/backends/mysql/introspection.py b/django/db/backends/mysql/introspection.py\n--- a/django/db/backends/mysql/introspection.py\n+++ b/django/db/backends/mysql/introspection.py\n@@ -5,18 +5,20 @@\n \n from django.db.backends.base.introspection import BaseDatabaseIntrospection\n from django.db.backends.base.introspection import FieldInfo as BaseFieldInfo\n-from django.db.backends.base.introspection import TableInfo\n+from django.db.backends.base.introspection import TableInfo as BaseTableInfo\n from django.db.models import Index\n from django.utils.datastructures import OrderedSet\n \n FieldInfo = namedtuple(\n-    \"FieldInfo\", BaseFieldInfo._fields + (\"extra\", \"is_unsigned\", \"has_json_constraint\")\n+    \"FieldInfo\",\n+    BaseFieldInfo._fields + (\"extra\", \"is_unsigned\", \"has_json_constraint\", \"comment\"),\n )\n InfoLine = namedtuple(\n     \"InfoLine\",\n     \"col_name data_type max_len num_prec num_scale extra column_default \"\n-    \"collation is_unsigned\",\n+    \"collation is_unsigned comment\",\n )\n+TableInfo = namedtuple(\"TableInfo\", BaseTableInfo._fields + (\"comment\",))\n \n \n class DatabaseIntrospection(BaseDatabaseIntrospection):\n@@ -68,9 +70,18 @@ def get_field_type(self, data_type, description):\n \n     def get_table_list(self, cursor):\n         \"\"\"Return a list of table and view names in the current database.\"\"\"\n-        cursor.execute(\"SHOW FULL TABLES\")\n+        cursor.execute(\n+            \"\"\"\n+            SELECT\n+                table_name,\n+                table_type,\n+                table_comment\n+            FROM information_schema.tables\n+            WHERE table_schema = DATABASE()\n+            \"\"\"\n+        )\n         return [\n-            TableInfo(row[0], {\"BASE TABLE\": \"t\", \"VIEW\": \"v\"}.get(row[1]))\n+            TableInfo(row[0], {\"BASE TABLE\": \"t\", \"VIEW\": \"v\"}.get(row[1]), row[2])\n             for row in cursor.fetchall()\n         ]\n \n@@ -128,7 +139,8 @@ def get_table_description(self, cursor, table_name):\n                 CASE\n                     WHEN column_type LIKE '%% unsigned' THEN 1\n                     ELSE 0\n-                END AS is_unsigned\n+                END AS is_unsigned,\n+                column_comment\n             FROM information_schema.columns\n             WHERE table_name = %s AND table_schema = DATABASE()\n             \"\"\",\n@@ -159,6 +171,7 @@ def to_int(i):\n                     info.extra,\n                     info.is_unsigned,\n                     line[0] in json_constraints,\n+                    info.comment,\n                 )\n             )\n         return fields\ndiff --git a/django/db/backends/mysql/schema.py b/django/db/backends/mysql/schema.py\n--- a/django/db/backends/mysql/schema.py\n+++ b/django/db/backends/mysql/schema.py\n@@ -9,7 +9,7 @@ class DatabaseSchemaEditor(BaseDatabaseSchemaEditor):\n \n     sql_alter_column_null = \"MODIFY %(column)s %(type)s NULL\"\n     sql_alter_column_not_null = \"MODIFY %(column)s %(type)s NOT NULL\"\n-    sql_alter_column_type = \"MODIFY %(column)s %(type)s%(collation)s\"\n+    sql_alter_column_type = \"MODIFY %(column)s %(type)s%(collation)s%(comment)s\"\n     sql_alter_column_no_default_null = \"ALTER COLUMN %(column)s SET DEFAULT NULL\"\n \n     # No 'CASCADE' which works as a no-op in MySQL but is undocumented\n@@ -32,6 +32,9 @@ class DatabaseSchemaEditor(BaseDatabaseSchemaEditor):\n \n     sql_create_index = \"CREATE INDEX %(name)s ON %(table)s (%(columns)s)%(extra)s\"\n \n+    sql_alter_table_comment = \"ALTER TABLE %(table)s COMMENT = %(comment)s\"\n+    sql_alter_column_comment = None\n+\n     @property\n     def sql_delete_check(self):\n         if self.connection.mysql_is_mariadb:\n@@ -228,3 +231,11 @@ def _alter_column_type_sql(\n     def _rename_field_sql(self, table, old_field, new_field, new_type):\n         new_type = self._set_field_new_type_null_status(old_field, new_type)\n         return super()._rename_field_sql(table, old_field, new_field, new_type)\n+\n+    def _alter_column_comment_sql(self, model, new_field, new_type, new_db_comment):\n+        # Comment is alter when altering the column type.\n+        return \"\", []\n+\n+    def _comment_sql(self, comment):\n+        comment_sql = super()._comment_sql(comment)\n+        return f\" COMMENT {comment_sql}\"\ndiff --git a/django/db/backends/oracle/features.py b/django/db/backends/oracle/features.py\n--- a/django/db/backends/oracle/features.py\n+++ b/django/db/backends/oracle/features.py\n@@ -25,6 +25,7 @@ class DatabaseFeatures(BaseDatabaseFeatures):\n     supports_partially_nullable_unique_constraints = False\n     supports_deferrable_unique_constraints = True\n     truncates_names = True\n+    supports_comments = True\n     supports_tablespaces = True\n     supports_sequence_reset = False\n     can_introspect_materialized_views = True\ndiff --git a/django/db/backends/oracle/introspection.py b/django/db/backends/oracle/introspection.py\n--- a/django/db/backends/oracle/introspection.py\n+++ b/django/db/backends/oracle/introspection.py\n@@ -5,10 +5,13 @@\n from django.db import models\n from django.db.backends.base.introspection import BaseDatabaseIntrospection\n from django.db.backends.base.introspection import FieldInfo as BaseFieldInfo\n-from django.db.backends.base.introspection import TableInfo\n+from django.db.backends.base.introspection import TableInfo as BaseTableInfo\n from django.utils.functional import cached_property\n \n-FieldInfo = namedtuple(\"FieldInfo\", BaseFieldInfo._fields + (\"is_autofield\", \"is_json\"))\n+FieldInfo = namedtuple(\n+    \"FieldInfo\", BaseFieldInfo._fields + (\"is_autofield\", \"is_json\", \"comment\")\n+)\n+TableInfo = namedtuple(\"TableInfo\", BaseTableInfo._fields + (\"comment\",))\n \n \n class DatabaseIntrospection(BaseDatabaseIntrospection):\n@@ -77,8 +80,14 @@ def get_table_list(self, cursor):\n         \"\"\"Return a list of table and view names in the current database.\"\"\"\n         cursor.execute(\n             \"\"\"\n-            SELECT table_name, 't'\n+            SELECT\n+                user_tables.table_name,\n+                't',\n+                user_tab_comments.comments\n             FROM user_tables\n+            LEFT OUTER JOIN\n+                user_tab_comments\n+                ON user_tab_comments.table_name = user_tables.table_name\n             WHERE\n                 NOT EXISTS (\n                     SELECT 1\n@@ -86,13 +95,13 @@ def get_table_list(self, cursor):\n                     WHERE user_mviews.mview_name = user_tables.table_name\n                 )\n             UNION ALL\n-            SELECT view_name, 'v' FROM user_views\n+            SELECT view_name, 'v', NULL FROM user_views\n             UNION ALL\n-            SELECT mview_name, 'v' FROM user_mviews\n+            SELECT mview_name, 'v', NULL FROM user_mviews\n         \"\"\"\n         )\n         return [\n-            TableInfo(self.identifier_converter(row[0]), row[1])\n+            TableInfo(self.identifier_converter(row[0]), row[1], row[2])\n             for row in cursor.fetchall()\n         ]\n \n@@ -131,10 +140,15 @@ def get_table_description(self, cursor, table_name):\n                     )\n                     THEN 1\n                     ELSE 0\n-                END as is_json\n+                END as is_json,\n+                user_col_comments.comments as col_comment\n             FROM user_tab_cols\n             LEFT OUTER JOIN\n                 user_tables ON user_tables.table_name = user_tab_cols.table_name\n+            LEFT OUTER JOIN\n+                user_col_comments ON\n+                user_col_comments.column_name = user_tab_cols.column_name AND\n+                user_col_comments.table_name = user_tab_cols.table_name\n             WHERE user_tab_cols.table_name = UPPER(%s)\n             \"\"\",\n             [table_name],\n@@ -146,6 +160,7 @@ def get_table_description(self, cursor, table_name):\n                 collation,\n                 is_autofield,\n                 is_json,\n+                comment,\n             )\n             for (\n                 column,\n@@ -154,6 +169,7 @@ def get_table_description(self, cursor, table_name):\n                 display_size,\n                 is_autofield,\n                 is_json,\n+                comment,\n             ) in cursor.fetchall()\n         }\n         self.cache_bust_counter += 1\n@@ -165,7 +181,14 @@ def get_table_description(self, cursor, table_name):\n         description = []\n         for desc in cursor.description:\n             name = desc[0]\n-            display_size, default, collation, is_autofield, is_json = field_map[name]\n+            (\n+                display_size,\n+                default,\n+                collation,\n+                is_autofield,\n+                is_json,\n+                comment,\n+            ) = field_map[name]\n             name %= {}  # cx_Oracle, for some reason, doubles percent signs.\n             description.append(\n                 FieldInfo(\n@@ -180,6 +203,7 @@ def get_table_description(self, cursor, table_name):\n                     collation,\n                     is_autofield,\n                     is_json,\n+                    comment,\n                 )\n             )\n         return description\ndiff --git a/django/db/backends/postgresql/features.py b/django/db/backends/postgresql/features.py\n--- a/django/db/backends/postgresql/features.py\n+++ b/django/db/backends/postgresql/features.py\n@@ -22,6 +22,7 @@ class DatabaseFeatures(BaseDatabaseFeatures):\n     has_select_for_update_skip_locked = True\n     has_select_for_no_key_update = True\n     can_release_savepoints = True\n+    supports_comments = True\n     supports_tablespaces = True\n     supports_transactions = True\n     can_introspect_materialized_views = True\ndiff --git a/django/db/backends/postgresql/introspection.py b/django/db/backends/postgresql/introspection.py\n--- a/django/db/backends/postgresql/introspection.py\n+++ b/django/db/backends/postgresql/introspection.py\n@@ -2,10 +2,11 @@\n \n from django.db.backends.base.introspection import BaseDatabaseIntrospection\n from django.db.backends.base.introspection import FieldInfo as BaseFieldInfo\n-from django.db.backends.base.introspection import TableInfo\n+from django.db.backends.base.introspection import TableInfo as BaseTableInfo\n from django.db.models import Index\n \n-FieldInfo = namedtuple(\"FieldInfo\", BaseFieldInfo._fields + (\"is_autofield\",))\n+FieldInfo = namedtuple(\"FieldInfo\", BaseFieldInfo._fields + (\"is_autofield\", \"comment\"))\n+TableInfo = namedtuple(\"TableInfo\", BaseTableInfo._fields + (\"comment\",))\n \n \n class DatabaseIntrospection(BaseDatabaseIntrospection):\n@@ -62,7 +63,8 @@ def get_table_list(self, cursor):\n                     WHEN c.relispartition THEN 'p'\n                     WHEN c.relkind IN ('m', 'v') THEN 'v'\n                     ELSE 't'\n-                END\n+                END,\n+                obj_description(c.oid)\n             FROM pg_catalog.pg_class c\n             LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n             WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')\n@@ -91,7 +93,8 @@ def get_table_description(self, cursor, table_name):\n                 NOT (a.attnotnull OR (t.typtype = 'd' AND t.typnotnull)) AS is_nullable,\n                 pg_get_expr(ad.adbin, ad.adrelid) AS column_default,\n                 CASE WHEN collname = 'default' THEN NULL ELSE collname END AS collation,\n-                a.attidentity != '' AS is_autofield\n+                a.attidentity != '' AS is_autofield,\n+                col_description(a.attrelid, a.attnum) AS column_comment\n             FROM pg_attribute a\n             LEFT JOIN pg_attrdef ad ON a.attrelid = ad.adrelid AND a.attnum = ad.adnum\n             LEFT JOIN pg_collation co ON a.attcollation = co.oid\ndiff --git a/django/db/migrations/autodetector.py b/django/db/migrations/autodetector.py\n--- a/django/db/migrations/autodetector.py\n+++ b/django/db/migrations/autodetector.py\n@@ -170,6 +170,7 @@ def _detect_changes(self, convert_apps=None, graph=None):\n         self.generate_created_proxies()\n         self.generate_altered_options()\n         self.generate_altered_managers()\n+        self.generate_altered_db_table_comment()\n \n         # Create the renamed fields and store them in self.renamed_fields.\n         # They are used by create_altered_indexes(), generate_altered_fields(),\n@@ -1552,6 +1553,28 @@ def generate_altered_db_table(self):\n                     ),\n                 )\n \n+    def generate_altered_db_table_comment(self):\n+        models_to_check = self.kept_model_keys.union(\n+            self.kept_proxy_keys, self.kept_unmanaged_keys\n+        )\n+        for app_label, model_name in sorted(models_to_check):\n+            old_model_name = self.renamed_models.get(\n+                (app_label, model_name), model_name\n+            )\n+            old_model_state = self.from_state.models[app_label, old_model_name]\n+            new_model_state = self.to_state.models[app_label, model_name]\n+\n+            old_db_table_comment = old_model_state.options.get(\"db_table_comment\")\n+            new_db_table_comment = new_model_state.options.get(\"db_table_comment\")\n+            if old_db_table_comment != new_db_table_comment:\n+                self.add_operation(\n+                    app_label,\n+                    operations.AlterModelTableComment(\n+                        name=model_name,\n+                        table_comment=new_db_table_comment,\n+                    ),\n+                )\n+\n     def generate_altered_options(self):\n         \"\"\"\n         Work out if any non-schema-affecting options have changed and make an\ndiff --git a/django/db/migrations/operations/__init__.py b/django/db/migrations/operations/__init__.py\n--- a/django/db/migrations/operations/__init__.py\n+++ b/django/db/migrations/operations/__init__.py\n@@ -6,6 +6,7 @@\n     AlterModelManagers,\n     AlterModelOptions,\n     AlterModelTable,\n+    AlterModelTableComment,\n     AlterOrderWithRespectTo,\n     AlterUniqueTogether,\n     CreateModel,\n@@ -21,6 +22,7 @@\n     \"CreateModel\",\n     \"DeleteModel\",\n     \"AlterModelTable\",\n+    \"AlterModelTableComment\",\n     \"AlterUniqueTogether\",\n     \"RenameModel\",\n     \"AlterIndexTogether\",\ndiff --git a/django/db/migrations/operations/models.py b/django/db/migrations/operations/models.py\n--- a/django/db/migrations/operations/models.py\n+++ b/django/db/migrations/operations/models.py\n@@ -529,6 +529,44 @@ def migration_name_fragment(self):\n         return \"alter_%s_table\" % self.name_lower\n \n \n+class AlterModelTableComment(ModelOptionOperation):\n+    def __init__(self, name, table_comment):\n+        self.table_comment = table_comment\n+        super().__init__(name)\n+\n+    def deconstruct(self):\n+        kwargs = {\n+            \"name\": self.name,\n+            \"table_comment\": self.table_comment,\n+        }\n+        return (self.__class__.__qualname__, [], kwargs)\n+\n+    def state_forwards(self, app_label, state):\n+        state.alter_model_options(\n+            app_label, self.name_lower, {\"db_table_comment\": self.table_comment}\n+        )\n+\n+    def database_forwards(self, app_label, schema_editor, from_state, to_state):\n+        new_model = to_state.apps.get_model(app_label, self.name)\n+        if self.allow_migrate_model(schema_editor.connection.alias, new_model):\n+            old_model = from_state.apps.get_model(app_label, self.name)\n+            schema_editor.alter_db_table_comment(\n+                new_model,\n+                old_model._meta.db_table_comment,\n+                new_model._meta.db_table_comment,\n+            )\n+\n+    def database_backwards(self, app_label, schema_editor, from_state, to_state):\n+        return self.database_forwards(app_label, schema_editor, from_state, to_state)\n+\n+    def describe(self):\n+        return f\"Alter {self.name} table comment\"\n+\n+    @property\n+    def migration_name_fragment(self):\n+        return f\"alter_{self.name_lower}_table_comment\"\n+\n+\n class AlterTogetherOptionOperation(ModelOptionOperation):\n     option_name = None\n \ndiff --git a/django/db/models/base.py b/django/db/models/base.py\n--- a/django/db/models/base.py\n+++ b/django/db/models/base.py\n@@ -1556,6 +1556,7 @@ def check(cls, **kwargs):\n                 *cls._check_ordering(),\n                 *cls._check_constraints(databases),\n                 *cls._check_default_pk(),\n+                *cls._check_db_table_comment(databases),\n             ]\n \n         return errors\n@@ -1592,6 +1593,29 @@ def _check_default_pk(cls):\n             ]\n         return []\n \n+    @classmethod\n+    def _check_db_table_comment(cls, databases):\n+        if not cls._meta.db_table_comment:\n+            return []\n+        errors = []\n+        for db in databases:\n+            if not router.allow_migrate_model(db, cls):\n+                continue\n+            connection = connections[db]\n+            if not (\n+                connection.features.supports_comments\n+                or \"supports_comments\" in cls._meta.required_db_features\n+            ):\n+                errors.append(\n+                    checks.Warning(\n+                        f\"{connection.display_name} does not support comments on \"\n+                        f\"tables (db_table_comment).\",\n+                        obj=cls,\n+                        id=\"models.W046\",\n+                    )\n+                )\n+        return errors\n+\n     @classmethod\n     def _check_swappable(cls):\n         \"\"\"Check if the swapped model exists.\"\"\"\ndiff --git a/django/db/models/fields/__init__.py b/django/db/models/fields/__init__.py\n--- a/django/db/models/fields/__init__.py\n+++ b/django/db/models/fields/__init__.py\n@@ -200,6 +200,7 @@ def __init__(\n         auto_created=False,\n         validators=(),\n         error_messages=None,\n+        db_comment=None,\n     ):\n         self.name = name\n         self.verbose_name = verbose_name  # May be set by set_attributes_from_name\n@@ -221,6 +222,7 @@ def __init__(\n         self.help_text = help_text\n         self.db_index = db_index\n         self.db_column = db_column\n+        self.db_comment = db_comment\n         self._db_tablespace = db_tablespace\n         self.auto_created = auto_created\n \n@@ -259,6 +261,7 @@ def check(self, **kwargs):\n             *self._check_field_name(),\n             *self._check_choices(),\n             *self._check_db_index(),\n+            *self._check_db_comment(**kwargs),\n             *self._check_null_allowed_for_primary_keys(),\n             *self._check_backend_specific_checks(**kwargs),\n             *self._check_validators(),\n@@ -385,6 +388,28 @@ def _check_db_index(self):\n         else:\n             return []\n \n+    def _check_db_comment(self, databases=None, **kwargs):\n+        if not self.db_comment or not databases:\n+            return []\n+        errors = []\n+        for db in databases:\n+            if not router.allow_migrate_model(db, self.model):\n+                continue\n+            connection = connections[db]\n+            if not (\n+                connection.features.supports_comments\n+                or \"supports_comments\" in self.model._meta.required_db_features\n+            ):\n+                errors.append(\n+                    checks.Warning(\n+                        f\"{connection.display_name} does not support comments on \"\n+                        f\"columns (db_comment).\",\n+                        obj=self,\n+                        id=\"fields.W163\",\n+                    )\n+                )\n+        return errors\n+\n     def _check_null_allowed_for_primary_keys(self):\n         if (\n             self.primary_key\n@@ -538,6 +563,7 @@ def deconstruct(self):\n             \"choices\": None,\n             \"help_text\": \"\",\n             \"db_column\": None,\n+            \"db_comment\": None,\n             \"db_tablespace\": None,\n             \"auto_created\": False,\n             \"validators\": [],\ndiff --git a/django/db/models/fields/related.py b/django/db/models/fields/related.py\n--- a/django/db/models/fields/related.py\n+++ b/django/db/models/fields/related.py\n@@ -1428,6 +1428,14 @@ def _check_ignored_options(self, **kwargs):\n                     id=\"fields.W345\",\n                 )\n             )\n+        if self.db_comment:\n+            warnings.append(\n+                checks.Warning(\n+                    \"db_comment has no effect on ManyToManyField.\",\n+                    obj=self,\n+                    id=\"fields.W346\",\n+                )\n+            )\n \n         return warnings\n \ndiff --git a/django/db/models/options.py b/django/db/models/options.py\n--- a/django/db/models/options.py\n+++ b/django/db/models/options.py\n@@ -30,6 +30,7 @@\n     \"verbose_name\",\n     \"verbose_name_plural\",\n     \"db_table\",\n+    \"db_table_comment\",\n     \"ordering\",\n     \"unique_together\",\n     \"permissions\",\n@@ -112,6 +113,7 @@ def __init__(self, meta, app_label=None):\n         self.verbose_name = None\n         self.verbose_name_plural = None\n         self.db_table = \"\"\n+        self.db_table_comment = \"\"\n         self.ordering = []\n         self._ordering_clash = False\n         self.indexes = []\n",
  "test_patch": "diff --git a/tests/inspectdb/models.py b/tests/inspectdb/models.py\n--- a/tests/inspectdb/models.py\n+++ b/tests/inspectdb/models.py\n@@ -132,3 +132,11 @@ class Meta:\n             )\n         ]\n         required_db_features = {\"supports_expression_indexes\"}\n+\n+\n+class DbComment(models.Model):\n+    rank = models.IntegerField(db_comment=\"'Rank' column comment\")\n+\n+    class Meta:\n+        db_table_comment = \"Custom table comment\"\n+        required_db_features = {\"supports_comments\"}\ndiff --git a/tests/inspectdb/tests.py b/tests/inspectdb/tests.py\n--- a/tests/inspectdb/tests.py\n+++ b/tests/inspectdb/tests.py\n@@ -129,6 +129,24 @@ def test_json_field(self):\n             \"null_json_field = models.JSONField(blank=True, null=True)\", output\n         )\n \n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_db_comments(self):\n+        out = StringIO()\n+        call_command(\"inspectdb\", \"inspectdb_dbcomment\", stdout=out)\n+        output = out.getvalue()\n+        integer_field_type = connection.features.introspected_field_types[\n+            \"IntegerField\"\n+        ]\n+        self.assertIn(\n+            f\"rank = models.{integer_field_type}(\"\n+            f\"db_comment=\\\"'Rank' column comment\\\")\",\n+            output,\n+        )\n+        self.assertIn(\n+            \"        db_table_comment = 'Custom table comment'\",\n+            output,\n+        )\n+\n     @skipUnlessDBFeature(\"supports_collation_on_charfield\")\n     @skipUnless(test_collation, \"Language collations are not supported.\")\n     def test_char_field_db_collation(self):\ndiff --git a/tests/introspection/models.py b/tests/introspection/models.py\n--- a/tests/introspection/models.py\n+++ b/tests/introspection/models.py\n@@ -102,3 +102,11 @@ class Meta:\n                 condition=models.Q(color__isnull=True),\n             ),\n         ]\n+\n+\n+class DbCommentModel(models.Model):\n+    name = models.CharField(max_length=15, db_comment=\"'Name' column comment\")\n+\n+    class Meta:\n+        db_table_comment = \"Custom table comment\"\n+        required_db_features = {\"supports_comments\"}\ndiff --git a/tests/introspection/tests.py b/tests/introspection/tests.py\n--- a/tests/introspection/tests.py\n+++ b/tests/introspection/tests.py\n@@ -9,6 +9,7 @@\n     City,\n     Comment,\n     Country,\n+    DbCommentModel,\n     District,\n     Reporter,\n     UniqueConstraintConditionModel,\n@@ -179,6 +180,26 @@ def test_smallautofield(self):\n             [connection.introspection.get_field_type(r[1], r) for r in desc],\n         )\n \n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_db_comments(self):\n+        with connection.cursor() as cursor:\n+            desc = connection.introspection.get_table_description(\n+                cursor, DbCommentModel._meta.db_table\n+            )\n+            table_list = connection.introspection.get_table_list(cursor)\n+        self.assertEqual(\n+            [\"'Name' column comment\"],\n+            [field.comment for field in desc if field.name == \"name\"],\n+        )\n+        self.assertEqual(\n+            [\"Custom table comment\"],\n+            [\n+                table.comment\n+                for table in table_list\n+                if table.name == \"introspection_dbcommentmodel\"\n+            ],\n+        )\n+\n     # Regression test for #9991 - 'real' types in postgres\n     @skipUnlessDBFeature(\"has_real_datatype\")\n     def test_postgresql_real_type(self):\ndiff --git a/tests/invalid_models_tests/test_models.py b/tests/invalid_models_tests/test_models.py\n--- a/tests/invalid_models_tests/test_models.py\n+++ b/tests/invalid_models_tests/test_models.py\n@@ -1872,6 +1872,37 @@ def dummy_function(*args, **kwargs):\n         )\n \n \n+@isolate_apps(\"invalid_models_tests\")\n+class DbTableCommentTests(TestCase):\n+    def test_db_table_comment(self):\n+        class Model(models.Model):\n+            class Meta:\n+                db_table_comment = \"Table comment\"\n+\n+        errors = Model.check(databases=self.databases)\n+        expected = (\n+            []\n+            if connection.features.supports_comments\n+            else [\n+                Warning(\n+                    f\"{connection.display_name} does not support comments on tables \"\n+                    f\"(db_table_comment).\",\n+                    obj=Model,\n+                    id=\"models.W046\",\n+                ),\n+            ]\n+        )\n+        self.assertEqual(errors, expected)\n+\n+    def test_db_table_comment_required_db_features(self):\n+        class Model(models.Model):\n+            class Meta:\n+                db_table_comment = \"Table comment\"\n+                required_db_features = {\"supports_comments\"}\n+\n+        self.assertEqual(Model.check(databases=self.databases), [])\n+\n+\n class MultipleAutoFieldsTests(TestCase):\n     def test_multiple_autofields(self):\n         msg = (\ndiff --git a/tests/invalid_models_tests/test_ordinary_fields.py b/tests/invalid_models_tests/test_ordinary_fields.py\n--- a/tests/invalid_models_tests/test_ordinary_fields.py\n+++ b/tests/invalid_models_tests/test_ordinary_fields.py\n@@ -1023,3 +1023,35 @@ class Model(models.Model):\n             field = models.JSONField(default=callable_default)\n \n         self.assertEqual(Model._meta.get_field(\"field\").check(), [])\n+\n+\n+@isolate_apps(\"invalid_models_tests\")\n+class DbCommentTests(TestCase):\n+    def test_db_comment(self):\n+        class Model(models.Model):\n+            field = models.IntegerField(db_comment=\"Column comment\")\n+\n+        errors = Model._meta.get_field(\"field\").check(databases=self.databases)\n+        expected = (\n+            []\n+            if connection.features.supports_comments\n+            else [\n+                DjangoWarning(\n+                    f\"{connection.display_name} does not support comments on columns \"\n+                    f\"(db_comment).\",\n+                    obj=Model._meta.get_field(\"field\"),\n+                    id=\"fields.W163\",\n+                ),\n+            ]\n+        )\n+        self.assertEqual(errors, expected)\n+\n+    def test_db_comment_required_db_features(self):\n+        class Model(models.Model):\n+            field = models.IntegerField(db_comment=\"Column comment\")\n+\n+            class Meta:\n+                required_db_features = {\"supports_comments\"}\n+\n+        errors = Model._meta.get_field(\"field\").check(databases=self.databases)\n+        self.assertEqual(errors, [])\ndiff --git a/tests/invalid_models_tests/test_relative_fields.py b/tests/invalid_models_tests/test_relative_fields.py\n--- a/tests/invalid_models_tests/test_relative_fields.py\n+++ b/tests/invalid_models_tests/test_relative_fields.py\n@@ -94,7 +94,9 @@ class Model(models.Model):\n             name = models.CharField(max_length=20)\n \n         class ModelM2M(models.Model):\n-            m2m = models.ManyToManyField(Model, null=True, validators=[lambda x: x])\n+            m2m = models.ManyToManyField(\n+                Model, null=True, validators=[lambda x: x], db_comment=\"Column comment\"\n+            )\n \n         field = ModelM2M._meta.get_field(\"m2m\")\n         self.assertEqual(\n@@ -110,6 +112,11 @@ class ModelM2M(models.Model):\n                     obj=field,\n                     id=\"fields.W341\",\n                 ),\n+                DjangoWarning(\n+                    \"db_comment has no effect on ManyToManyField.\",\n+                    obj=field,\n+                    id=\"fields.W346\",\n+                ),\n             ],\n         )\n \ndiff --git a/tests/migrations/test_autodetector.py b/tests/migrations/test_autodetector.py\n--- a/tests/migrations/test_autodetector.py\n+++ b/tests/migrations/test_autodetector.py\n@@ -773,6 +773,14 @@ class AutodetectorTests(BaseAutodetectorTests):\n             \"verbose_name\": \"Authi\",\n         },\n     )\n+    author_with_db_table_comment = ModelState(\n+        \"testapp\",\n+        \"Author\",\n+        [\n+            (\"id\", models.AutoField(primary_key=True)),\n+        ],\n+        {\"db_table_comment\": \"Table comment\"},\n+    )\n     author_with_db_table_options = ModelState(\n         \"testapp\",\n         \"Author\",\n@@ -2349,6 +2357,58 @@ def test_alter_db_table_with_model_change(self):\n             changes, \"testapp\", 0, 1, name=\"newauthor\", table=\"author_three\"\n         )\n \n+    def test_alter_db_table_comment_add(self):\n+        changes = self.get_changes(\n+            [self.author_empty], [self.author_with_db_table_comment]\n+        )\n+        self.assertNumberMigrations(changes, \"testapp\", 1)\n+        self.assertOperationTypes(changes, \"testapp\", 0, [\"AlterModelTableComment\"])\n+        self.assertOperationAttributes(\n+            changes, \"testapp\", 0, 0, name=\"author\", table_comment=\"Table comment\"\n+        )\n+\n+    def test_alter_db_table_comment_change(self):\n+        author_with_new_db_table_comment = ModelState(\n+            \"testapp\",\n+            \"Author\",\n+            [\n+                (\"id\", models.AutoField(primary_key=True)),\n+            ],\n+            {\"db_table_comment\": \"New table comment\"},\n+        )\n+        changes = self.get_changes(\n+            [self.author_with_db_table_comment],\n+            [author_with_new_db_table_comment],\n+        )\n+        self.assertNumberMigrations(changes, \"testapp\", 1)\n+        self.assertOperationTypes(changes, \"testapp\", 0, [\"AlterModelTableComment\"])\n+        self.assertOperationAttributes(\n+            changes,\n+            \"testapp\",\n+            0,\n+            0,\n+            name=\"author\",\n+            table_comment=\"New table comment\",\n+        )\n+\n+    def test_alter_db_table_comment_remove(self):\n+        changes = self.get_changes(\n+            [self.author_with_db_table_comment],\n+            [self.author_empty],\n+        )\n+        self.assertNumberMigrations(changes, \"testapp\", 1)\n+        self.assertOperationTypes(changes, \"testapp\", 0, [\"AlterModelTableComment\"])\n+        self.assertOperationAttributes(\n+            changes, \"testapp\", 0, 0, name=\"author\", db_table_comment=None\n+        )\n+\n+    def test_alter_db_table_comment_no_changes(self):\n+        changes = self.get_changes(\n+            [self.author_with_db_table_comment],\n+            [self.author_with_db_table_comment],\n+        )\n+        self.assertNumberMigrations(changes, \"testapp\", 0)\n+\n     def test_identical_regex_doesnt_alter(self):\n         from_state = ModelState(\n             \"testapp\",\ndiff --git a/tests/migrations/test_base.py b/tests/migrations/test_base.py\n--- a/tests/migrations/test_base.py\n+++ b/tests/migrations/test_base.py\n@@ -75,6 +75,20 @@ def _get_column_collation(self, table, column, using):\n     def assertColumnCollation(self, table, column, collation, using=\"default\"):\n         self.assertEqual(self._get_column_collation(table, column, using), collation)\n \n+    def _get_table_comment(self, table, using):\n+        with connections[using].cursor() as cursor:\n+            return next(\n+                t.comment\n+                for t in connections[using].introspection.get_table_list(cursor)\n+                if t.name == table\n+            )\n+\n+    def assertTableComment(self, table, comment, using=\"default\"):\n+        self.assertEqual(self._get_table_comment(table, using), comment)\n+\n+    def assertTableCommentNotExists(self, table, using=\"default\"):\n+        self.assertIn(self._get_table_comment(table, using), [None, \"\"])\n+\n     def assertIndexExists(\n         self, table, columns, value=True, using=\"default\", index_type=None\n     ):\ndiff --git a/tests/migrations/test_operations.py b/tests/migrations/test_operations.py\n--- a/tests/migrations/test_operations.py\n+++ b/tests/migrations/test_operations.py\n@@ -1922,6 +1922,37 @@ def test_alter_field_add_db_column_noop(self):\n                 operation.database_forwards(app_label, editor, new_state, project_state)\n         self.assertColumnExists(rider_table, \"pony_id\")\n \n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_alter_model_table_comment(self):\n+        app_label = \"test_almotaco\"\n+        project_state = self.set_up_test_model(app_label)\n+        pony_table = f\"{app_label}_pony\"\n+        # Add table comment.\n+        operation = migrations.AlterModelTableComment(\"Pony\", \"Custom pony comment\")\n+        self.assertEqual(operation.describe(), \"Alter Pony table comment\")\n+        self.assertEqual(operation.migration_name_fragment, \"alter_pony_table_comment\")\n+        new_state = project_state.clone()\n+        operation.state_forwards(app_label, new_state)\n+        self.assertEqual(\n+            new_state.models[app_label, \"pony\"].options[\"db_table_comment\"],\n+            \"Custom pony comment\",\n+        )\n+        self.assertTableCommentNotExists(pony_table)\n+        with connection.schema_editor() as editor:\n+            operation.database_forwards(app_label, editor, project_state, new_state)\n+        self.assertTableComment(pony_table, \"Custom pony comment\")\n+        # Reversal.\n+        with connection.schema_editor() as editor:\n+            operation.database_backwards(app_label, editor, new_state, project_state)\n+        self.assertTableCommentNotExists(pony_table)\n+        # Deconstruction.\n+        definition = operation.deconstruct()\n+        self.assertEqual(definition[0], \"AlterModelTableComment\")\n+        self.assertEqual(definition[1], [])\n+        self.assertEqual(\n+            definition[2], {\"name\": \"Pony\", \"table_comment\": \"Custom pony comment\"}\n+        )\n+\n     def test_alter_field_pk(self):\n         \"\"\"\n         The AlterField operation on primary keys (things like PostgreSQL's\ndiff --git a/tests/schema/tests.py b/tests/schema/tests.py\n--- a/tests/schema/tests.py\n+++ b/tests/schema/tests.py\n@@ -273,6 +273,27 @@ def get_column_collation(self, table, column):\n                 if f.name == column\n             )\n \n+    def get_column_comment(self, table, column):\n+        with connection.cursor() as cursor:\n+            return next(\n+                f.comment\n+                for f in connection.introspection.get_table_description(cursor, table)\n+                if f.name == column\n+            )\n+\n+    def get_table_comment(self, table):\n+        with connection.cursor() as cursor:\n+            return next(\n+                t.comment\n+                for t in connection.introspection.get_table_list(cursor)\n+                if t.name == table\n+            )\n+\n+    def assert_column_comment_not_exists(self, table, column):\n+        with connection.cursor() as cursor:\n+            columns = connection.introspection.get_table_description(cursor, table)\n+        self.assertFalse(any([c.name == column and c.comment for c in columns]))\n+\n     def assertIndexOrder(self, table, index, order):\n         constraints = self.get_constraints(table)\n         self.assertIn(index, constraints)\n@@ -4390,6 +4411,186 @@ def test_add_unique_charfield(self):\n             ],\n         )\n \n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_add_db_comment_charfield(self):\n+        comment = \"Custom comment\"\n+        field = CharField(max_length=255, db_comment=comment)\n+        field.set_attributes_from_name(\"name_with_comment\")\n+        with connection.schema_editor() as editor:\n+            editor.create_model(Author)\n+            editor.add_field(Author, field)\n+        self.assertEqual(\n+            self.get_column_comment(Author._meta.db_table, \"name_with_comment\"),\n+            comment,\n+        )\n+\n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_add_db_comment_and_default_charfield(self):\n+        comment = \"Custom comment with default\"\n+        field = CharField(max_length=255, default=\"Joe Doe\", db_comment=comment)\n+        field.set_attributes_from_name(\"name_with_comment_default\")\n+        with connection.schema_editor() as editor:\n+            editor.create_model(Author)\n+            Author.objects.create(name=\"Before adding a new field\")\n+            editor.add_field(Author, field)\n+\n+        self.assertEqual(\n+            self.get_column_comment(Author._meta.db_table, \"name_with_comment_default\"),\n+            comment,\n+        )\n+        with connection.cursor() as cursor:\n+            cursor.execute(\n+                f\"SELECT name_with_comment_default FROM {Author._meta.db_table};\"\n+            )\n+            for row in cursor.fetchall():\n+                self.assertEqual(row[0], \"Joe Doe\")\n+\n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_alter_db_comment(self):\n+        with connection.schema_editor() as editor:\n+            editor.create_model(Author)\n+        # Add comment.\n+        old_field = Author._meta.get_field(\"name\")\n+        new_field = CharField(max_length=255, db_comment=\"Custom comment\")\n+        new_field.set_attributes_from_name(\"name\")\n+        with connection.schema_editor() as editor:\n+            editor.alter_field(Author, old_field, new_field, strict=True)\n+        self.assertEqual(\n+            self.get_column_comment(Author._meta.db_table, \"name\"),\n+            \"Custom comment\",\n+        )\n+        # Alter comment.\n+        old_field = new_field\n+        new_field = CharField(max_length=255, db_comment=\"New custom comment\")\n+        new_field.set_attributes_from_name(\"name\")\n+        with connection.schema_editor() as editor:\n+            editor.alter_field(Author, old_field, new_field, strict=True)\n+        self.assertEqual(\n+            self.get_column_comment(Author._meta.db_table, \"name\"),\n+            \"New custom comment\",\n+        )\n+        # Remove comment.\n+        old_field = new_field\n+        new_field = CharField(max_length=255)\n+        new_field.set_attributes_from_name(\"name\")\n+        with connection.schema_editor() as editor:\n+            editor.alter_field(Author, old_field, new_field, strict=True)\n+        self.assertIn(\n+            self.get_column_comment(Author._meta.db_table, \"name\"),\n+            [None, \"\"],\n+        )\n+\n+    @skipUnlessDBFeature(\"supports_comments\", \"supports_foreign_keys\")\n+    def test_alter_db_comment_foreign_key(self):\n+        with connection.schema_editor() as editor:\n+            editor.create_model(Author)\n+            editor.create_model(Book)\n+\n+        comment = \"FK custom comment\"\n+        old_field = Book._meta.get_field(\"author\")\n+        new_field = ForeignKey(Author, CASCADE, db_comment=comment)\n+        new_field.set_attributes_from_name(\"author\")\n+        with connection.schema_editor() as editor:\n+            editor.alter_field(Book, old_field, new_field, strict=True)\n+        self.assertEqual(\n+            self.get_column_comment(Book._meta.db_table, \"author_id\"),\n+            comment,\n+        )\n+\n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_alter_field_type_preserve_comment(self):\n+        with connection.schema_editor() as editor:\n+            editor.create_model(Author)\n+\n+        comment = \"This is the name.\"\n+        old_field = Author._meta.get_field(\"name\")\n+        new_field = CharField(max_length=255, db_comment=comment)\n+        new_field.set_attributes_from_name(\"name\")\n+        new_field.model = Author\n+        with connection.schema_editor() as editor:\n+            editor.alter_field(Author, old_field, new_field, strict=True)\n+        self.assertEqual(\n+            self.get_column_comment(Author._meta.db_table, \"name\"),\n+            comment,\n+        )\n+        # Changing a field type should preserve the comment.\n+        old_field = new_field\n+        new_field = CharField(max_length=511, db_comment=comment)\n+        new_field.set_attributes_from_name(\"name\")\n+        new_field.model = Author\n+        with connection.schema_editor() as editor:\n+            editor.alter_field(Author, new_field, old_field, strict=True)\n+        # Comment is preserved.\n+        self.assertEqual(\n+            self.get_column_comment(Author._meta.db_table, \"name\"),\n+            comment,\n+        )\n+\n+    @isolate_apps(\"schema\")\n+    @skipUnlessDBFeature(\"supports_comments\")\n+    def test_db_comment_table(self):\n+        class ModelWithDbTableComment(Model):\n+            class Meta:\n+                app_label = \"schema\"\n+                db_table_comment = \"Custom table comment\"\n+\n+        with connection.schema_editor() as editor:\n+            editor.create_model(ModelWithDbTableComment)\n+        self.isolated_local_models = [ModelWithDbTableComment]\n+        self.assertEqual(\n+            self.get_table_comment(ModelWithDbTableComment._meta.db_table),\n+            \"Custom table comment\",\n+        )\n+        # Alter table comment.\n+        old_db_table_comment = ModelWithDbTableComment._meta.db_table_comment\n+        with connection.schema_editor() as editor:\n+            editor.alter_db_table_comment(\n+                ModelWithDbTableComment, old_db_table_comment, \"New table comment\"\n+            )\n+        self.assertEqual(\n+            self.get_table_comment(ModelWithDbTableComment._meta.db_table),\n+            \"New table comment\",\n+        )\n+        # Remove table comment.\n+        old_db_table_comment = ModelWithDbTableComment._meta.db_table_comment\n+        with connection.schema_editor() as editor:\n+            editor.alter_db_table_comment(\n+                ModelWithDbTableComment, old_db_table_comment, None\n+            )\n+        self.assertIn(\n+            self.get_table_comment(ModelWithDbTableComment._meta.db_table),\n+            [None, \"\"],\n+        )\n+\n+    @isolate_apps(\"schema\")\n+    @skipUnlessDBFeature(\"supports_comments\", \"supports_foreign_keys\")\n+    def test_db_comments_from_abstract_model(self):\n+        class AbstractModelWithDbComments(Model):\n+            name = CharField(\n+                max_length=255, db_comment=\"Custom comment\", null=True, blank=True\n+            )\n+\n+            class Meta:\n+                app_label = \"schema\"\n+                abstract = True\n+                db_table_comment = \"Custom table comment\"\n+\n+        class ModelWithDbComments(AbstractModelWithDbComments):\n+            pass\n+\n+        with connection.schema_editor() as editor:\n+            editor.create_model(ModelWithDbComments)\n+        self.isolated_local_models = [ModelWithDbComments]\n+\n+        self.assertEqual(\n+            self.get_column_comment(ModelWithDbComments._meta.db_table, \"name\"),\n+            \"Custom comment\",\n+        )\n+        self.assertEqual(\n+            self.get_table_comment(ModelWithDbComments._meta.db_table),\n+            \"Custom table comment\",\n+        )\n+\n     @unittest.skipUnless(connection.vendor == \"postgresql\", \"PostgreSQL specific\")\n     def test_alter_field_add_index_to_charfield(self):\n         # Create the table and verify no initial indexes.\n",
  "problem_statement": "Add the ability to define comments in table / columns\nDescription\n\t \n\t\t(last modified by Jared Chung)\n\t \nDatabase-level comments are valuable for database administrators, data analysts, data scientists, and others who are looking to consume data that is managed by Django. Most Django-supported databases also support table-level and column-level comments. This ticket would add functionality to Django to allow Django users to specify comments for syncdb manage.py to enter into the database.\n....\n....\nnew proposal (kimsoungryoul : 2020.03.23)\nWe will develop the code such as below\nclass AModel(models.Model):\n\t aaa = model.CharField(help_text=\"i am help_text\", db_column_comment=\"i am db_comment\",~~~)\n\t \n\t class Meta:\n\t\t db_table = \"a_model_example_name\"\n\t\t db_table_comment =\"this is a_model comment ~~~~\"\n",
  "hints_text": "Initial implementation for postgresql_psycopg2 backend: ​https://github.com/niwibe/django/compare/issue_18468 Is only implemented the table comment sql. If accepted as a new feature, would be nice to make design decisions. Today I put the comment for table in class \"Meta\", another option is to use the first line of the model docstrings. For fields, is more simple, just add an optional parameter \"comment\" at the Field.\nThis is a duplicate of #13867, which lingered in DDN for two years until I wontfix'd it. The only argument I've seen is \"it'd be nice if...\". But I'm against adding features to Django just because we can; there must be a use case. Could you start a thread on the mailing-list, as recommended in the ​contributing guide, to see if there is support for this idea? If there's a good explanation of why you need this, I can reconsider my decision.\nI understand your opinion! In any case, I'll write an email to the list which I think is useful. Thanks!\nI assume that most databases have comment on fields / tables feature not just because it is nice. Accessing Django created tables from another tool (for instance pgAdmin) would just make the system more productive. Personally I never create SQL tables without proper comments in the database itself.\nThe reasons given on #13867 still stand — Django is not aiming to provide a wrapper for every SQL feature. For example, it also doesn't provide an easy way to create stored procedures, functions or views, but you can always execute the SQL manually to add these, or could add some additional Python code that executed the SQL — for example using a South migration — if you want to ensure it always happens. In addition, if the audience of these comments is people administering the database without reading the Python source code, it doesn't make sense for these comments to be taking up space in the Python code, which has its own way of adding comments (docstrings and comment lines), which are targeted at programmers not DB admins.\nNow that migration is built in Django, which can be used to create and administer the database, I again request this feature to be added. Thanks.\nThe correct way to reopen a ticket closed as \"wontfix\" is to start a discussion on the DevelopersMailingList. If there is consensus there to add the feature, then we reopen the ticket.\nAfter discussion on mailing list, the feature is good and can be added. (​https://groups.google.com/forum/?nomobile=true#!topic/django-developers/guVTzO3RhUs) I'll prepare patch for review.\nI guess the model field option could be called db_column_comment. I closed #28407 (introspecting column comments) as a duplicate since that should be implemented as part of this.\nReplying to Tim Graham: I guess the model field option could be called db_column_comment. I closed #28407 (introspecting column comments) as a duplicate since that should be implemented as part of this. I think that we don't need new param, because comment for django admin may be useful to store in database. But I can't decide on implementation, can you give me an advice? Postgres and oracle have a syntax like comment on {table}.{column} for storing comments, so this needs to be done after table/column creation, so there are two ways: Add it to post migrate signal, as for content types. But I can implement it as a third-party lib Add this SQL after database creation in schema.py Which way is better?\nI'm not sure what you mean by \"comment for django admin\". There isn't an existing option with that name. As for the implementation, the second approach sounds better.\nReplying to Ivan Chernoff: After discussion on mailing list, the feature is good and can be added. (​https://groups.google.com/forum/?nomobile=true#!topic/django-developers/guVTzO3RhUs) I'll prepare patch for review. Any news on this patch? It looks like there is a green light for one, and Tim already answered about the preferable approach. Do you need any help on making this hapen? It would be a fantastic feature for Django!\nReplying to Rodrigo Silva: Replying to Ivan Chernoff: After discussion on mailing list, the feature is good and can be added. (​https://groups.google.com/forum/?nomobile=true#!topic/django-developers/guVTzO3RhUs) I'll prepare patch for review. Any news on this patch? It looks like there is a green light for one, and Tim already answered about the preferable approach. Do you need any help on making this hapen? It would be a fantastic feature for Django! I've a small library based on contenttype design: on post-migrate it copies all comments to database (PostgreSQL only). ​https://github.com/vanadium23/django-db-comments\n​PR\ni assign it to me i will close this pullRequest caused by imperfection ​https://github.com/django/django/pull/12605 I will bring a new PullRequest as soon as possible. in at least a week\nAdding a new setting is always a bit controversial. This should be discussed first on DevelopersMailingList. Personally I don't think that we need it.\ni agree. your opinion. i remove new settings. ENABLE_DB_COMMENT_WITH_HELP_TEXT AND i added few a more commit for support postgresql oracle\nhere is mail list for this feature ​https://groups.google.com/forum/?nomobile=true#!topic/django-developers/guVTzO3RhUs\nIf you don't mind me asking... could you give me a feedback to this feature?\nHi felixxm I want this feature to be reflected in Django.3.1 I know this feature that many people won't use. but some people who communicate with DBA would be helpful this feature sometimes ORM take control from DBA like these situation... DBAs: we want to know comment(help_text) not to *.py could you use COMMENT SQL in migrationFile? Developers: No, It's Impossible because django ORM does not support COMMENT SQL DBAs: ???? that means .. should we refer *.py file everytimes even though COMMENT SQL exists but can't use? DBAs: it's illogical!!!! Developers: but if we use COMMENT SQL, we customize everytimes to generate migrate files Developers: it's inefficient!!!! That's one of the reasons for avoiding ORM. If you don't mind me asking... could you give me a feedback to this feature?\nThis patch is not ready for a review. Docs and tests are still missing.\nRebased a previous PR to add support to inspectdb here: ​https://github.com/django/django/pull/13737 Still missing some tests and it looks like we would like it to be a verbose_name field and not a comment\nOwner updated based on suggestion in django-developers group ​https://groups.google.com/g/django-developers/c/guVTzO3RhUs\nStatus update: KimSoungRyoul has created a new PR (​here) that addresses some of the suggestions raised by atombrella in May 2020 on the previous PR (​here). Huge thanks to KimSoungRyoul for resuming work on this feature! The new PR is not complete yet. Still needed: 1) Test coverage. 2) Additional changes to the proposed docs including further explanation, a warning about lack of SQLite support, and a warning about overwriting comments made by DBAs in the db, versionadded annotation, and a couple other things. 3) Release note. 4) General code review, especially related to where sqlite warnings should be triggered in the code to avoid having hard-coded vendor names in django/db/models/base.py. Next steps: I'll add some suggestions directly to the new PR and post updates here as this PR progresses.\nUpdate: This feature is still being actively developed. KimSoungRyoul has been leading the development, and we've received input as well from knyghty on the PR. Docs and unit tests have been written, and right now we are discussing edge cases that need to be properly handled or explicitly \"unsupported\" (such as, for example, Django model classes or fields that Django doesn't actually create in the db such as M2M fields, proxy models, abstract base classes, and more).\nThis patch is ready for review. It meets everything on the checklist. I'm updating the status so it shows up in Patches Needing Review on the Development Dashboard. If you would like additional information about some of the design and implementation decisions behind this patch, please refer to the Github Pull Request conversation at ​https://github.com/django/django/pull/14463\nUpdate: This patch has been reviewed (refer to ​this comment on the Github PR for the details on the patch review checklist for this patch). I have marked it \"Ready for checkin\" Note: Although I am the owner of this ticket, I am NOT the author of this patch. The author of the patch is KimSoungRyoul. Because I am not the author, I conducted the patch review using ​the patch review checklist.\nMay I change assignee to me? perhaps is there any problem?\nStatus update: KSR has updated the patch on github ​https://github.com/django/django/pull/14463 and there's continued discussion there, including additional changes proposed by other community members...",
  "created_at": "2021-05-29T04:34:26Z",
  "version": "4.2",
  "FAIL_TO_PASS": "[\"test_db_collation (invalid_models_tests.test_ordinary_fields.TextFieldTests)\", \"test_db_collation_required_db_features (invalid_models_tests.test_ordinary_fields.TextFieldTests)\", \"test_invalid_default (invalid_models_tests.test_ordinary_fields.JSONFieldTests)\", \"test_valid_callable_default (invalid_models_tests.test_ordinary_fields.JSONFieldTests)\", \"test_valid_default (invalid_models_tests.test_ordinary_fields.JSONFieldTests)\", \"test_valid_default_none (invalid_models_tests.test_ordinary_fields.JSONFieldTests)\", \"test_auto (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_many_operations_suffix (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_no_operations (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_no_operations_initial (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_none_name (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_none_name_with_initial_true (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_operation_with_invalid_chars_in_suggested_name (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_operation_with_no_suggested_name (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_single_operation (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_single_operation_long_name (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_two_create_models (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_two_create_models_with_initial_true (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_two_operations (migrations.test_autodetector.MigrationSuggestNameTests)\", \"test_str_default_value (invalid_models_tests.test_ordinary_fields.BinaryFieldTests)\", \"test_valid_default_value (invalid_models_tests.test_ordinary_fields.BinaryFieldTests)\", \"test_db_comment (invalid_models_tests.test_ordinary_fields.DbCommentTests)\", \"test_db_comment_required_db_features (invalid_models_tests.test_ordinary_fields.DbCommentTests)\", \"test_choices_named_group (invalid_models_tests.test_ordinary_fields.UUIDFieldTests)\", \"test_multiple_autofields (invalid_models_tests.test_models.MultipleAutoFieldsTests)\", \"test_auto_now_and_auto_now_add_raise_error (invalid_models_tests.test_ordinary_fields.DateFieldTests)\", \"test_fix_default_value (invalid_models_tests.test_ordinary_fields.DateFieldTests)\", \"test_fix_default_value_tz (invalid_models_tests.test_ordinary_fields.DateFieldTests)\", \"test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\", \"test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\", \"test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\", \"test_fix_default_value (invalid_models_tests.test_ordinary_fields.TimeFieldTests)\", \"test_fix_default_value_tz (invalid_models_tests.test_ordinary_fields.TimeFieldTests)\", \"test_max_length_warning (invalid_models_tests.test_ordinary_fields.AutoFieldTests)\", \"test_primary_key (invalid_models_tests.test_ordinary_fields.AutoFieldTests)\", \"test_valid_case (invalid_models_tests.test_ordinary_fields.AutoFieldTests)\", \"test_reference_field_by_through_fields (migrations.test_operations.FieldOperationTests)\", \"test_references_field_by_from_fields (migrations.test_operations.FieldOperationTests)\", \"test_references_field_by_name (migrations.test_operations.FieldOperationTests)\", \"test_references_field_by_remote_field_model (migrations.test_operations.FieldOperationTests)\", \"test_references_field_by_through (migrations.test_operations.FieldOperationTests)\", \"test_references_field_by_to_fields (migrations.test_operations.FieldOperationTests)\", \"test_references_model (migrations.test_operations.FieldOperationTests)\", \"test_non_nullable_blank (invalid_models_tests.test_ordinary_fields.GenericIPAddressFieldTests)\", \"test_db_table_comment (invalid_models_tests.test_models.DbTableCommentTests)\", \"test_db_table_comment_required_db_features (invalid_models_tests.test_models.DbTableCommentTests)\", \"test_references_model_mixin (migrations.test_operations.TestCreateModel)\", \"test_forbidden_files_and_folders (invalid_models_tests.test_ordinary_fields.FilePathFieldTests)\", \"test_max_length_warning (invalid_models_tests.test_ordinary_fields.IntegerFieldTests)\", \"test_primary_key (invalid_models_tests.test_ordinary_fields.FileFieldTests)\", \"test_upload_to_callable_not_checked (invalid_models_tests.test_ordinary_fields.FileFieldTests)\", \"test_upload_to_starts_with_slash (invalid_models_tests.test_ordinary_fields.FileFieldTests)\", \"test_valid_case (invalid_models_tests.test_ordinary_fields.FileFieldTests)\", \"test_valid_default_case (invalid_models_tests.test_ordinary_fields.FileFieldTests)\", \"test_fix_default_value (invalid_models_tests.test_ordinary_fields.DateTimeFieldTests)\", \"test_fix_default_value_tz (invalid_models_tests.test_ordinary_fields.DateTimeFieldTests)\", \"test_list_containing_non_iterable (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_non_iterable (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_non_list (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_fk (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_m2m_field (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_missing_field (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_pointing_to_non_local_field (invalid_models_tests.test_models.IndexTogetherTests)\", \"test_bad_values_of_max_digits_and_decimal_places (invalid_models_tests.test_ordinary_fields.DecimalFieldTests)\", \"test_decimal_places_greater_than_max_digits (invalid_models_tests.test_ordinary_fields.DecimalFieldTests)\", \"test_negative_max_digits_and_decimal_places (invalid_models_tests.test_ordinary_fields.DecimalFieldTests)\", \"test_required_attributes (invalid_models_tests.test_ordinary_fields.DecimalFieldTests)\", \"test_valid_field (invalid_models_tests.test_ordinary_fields.DecimalFieldTests)\", \"test_db_column_clash (invalid_models_tests.test_models.FieldNamesTests)\", \"test_ending_with_underscore (invalid_models_tests.test_models.FieldNamesTests)\", \"test_including_separator (invalid_models_tests.test_models.FieldNamesTests)\", \"test_pk (invalid_models_tests.test_models.FieldNamesTests)\", \"test_check_jsonfield (invalid_models_tests.test_models.JSONFieldTests)\", \"test_check_jsonfield_required_db_features (invalid_models_tests.test_models.JSONFieldTests)\", \"test_ordering_pointing_to_json_field_value (invalid_models_tests.test_models.JSONFieldTests)\", \"test_list_containing_non_iterable (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_non_iterable (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_non_list (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_pointing_to_fk (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_pointing_to_m2m (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_pointing_to_missing_field (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_valid_model (invalid_models_tests.test_models.UniqueTogetherTests)\", \"test_field_name_clash_with_child_accessor (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_field_name_clash_with_m2m_through (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_id_clash (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_inheritance_clash (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_multigeneration_inheritance (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_multiinheritance_clash (invalid_models_tests.test_models.ShadowingFieldsTests)\", \"test_clash_parent_link (invalid_models_tests.test_relative_fields.ComplexClashTests)\", \"test_complex_clash (invalid_models_tests.test_relative_fields.ComplexClashTests)\", \"Added fields will be created before using them in index_together.\", \"test_add_index_together (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"test_add_model_order_with_respect_to_index_together (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"Fields are altered after deleting some index_together.\", \"test_create_model_and_index_together (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"Empty index_together shouldn't generate a migration.\", \"index_together doesn't generate a migration if no changes have been\", \"index_together triggers on ordering changes.\", \"test_index_together_remove_fk (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"test_partly_alter_index_together_decrease (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"test_partly_alter_index_together_increase (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"Removed fields will be removed after updating index_together.\", \"test_remove_index_together (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"Fields are renamed before updating index_together.\", \"test_rename_index_together_to_index (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"test_rename_index_together_to_index_extra_options (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"test_rename_index_together_to_index_order_fields (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"test_set_alter_order_with_respect_to_index_together (migrations.test_autodetector.AutodetectorIndexTogetherTests)\", \"If ``through_fields`` kwarg is given, it must specify both\", \"test_intersection_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"Providing invalid field names to ManyToManyField.through_fields\", \"Mixing up the order of link fields to ManyToManyField.through_fields\", \"ManyToManyField accepts the ``through_fields`` kwarg\", \"test_superset_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\", \"test_bad_db_index_value (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_bad_max_length_value (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_bad_validators (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_choices_containing_lazy (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_choices_containing_non_pairs (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_choices_in_max_length (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_choices_named_group (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_choices_named_group_bad_structure (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_choices_named_group_lazy (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_choices_named_group_non_pairs (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_db_collation (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_db_collation_required_db_features (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_iterable_of_iterable_choices (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_lazy_choices (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_missing_max_length (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_negative_max_length (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_non_iterable_choices (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"Two letters isn't a valid choice pair.\", \"test_str_max_length_type (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_str_max_length_value (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_valid_field (invalid_models_tests.test_ordinary_fields.CharFieldTests)\", \"test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_clash_between_accessors (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_valid_model (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_hidden_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\", \"test_pillow_installed (invalid_models_tests.test_ordinary_fields.ImageFieldTests)\", \"test_clash_between_accessors (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"Ref #22047.\", \"test_no_clash_for_hidden_related_name (invalid_models_tests.test_relative_fields.AccessorClashTests)\", \"test_func_index (invalid_models_tests.test_models.IndexesTests)\", \"test_func_index_complex_expression_custom_lookup (invalid_models_tests.test_models.IndexesTests)\", \"test_func_index_pointing_to_fk (invalid_models_tests.test_models.IndexesTests)\", \"test_func_index_pointing_to_m2m_field (invalid_models_tests.test_models.IndexesTests)\", \"test_func_index_pointing_to_missing_field (invalid_models_tests.test_models.IndexesTests)\", \"test_func_index_pointing_to_missing_field_nested (invalid_models_tests.test_models.IndexesTests)\", \"test_func_index_pointing_to_non_local_field (invalid_models_tests.test_models.IndexesTests)\", \"test_func_index_required_db_features (invalid_models_tests.test_models.IndexesTests)\", \"test_index_with_condition (invalid_models_tests.test_models.IndexesTests)\", \"test_index_with_condition_required_db_features (invalid_models_tests.test_models.IndexesTests)\", \"test_index_with_include (invalid_models_tests.test_models.IndexesTests)\", \"test_index_with_include_required_db_features (invalid_models_tests.test_models.IndexesTests)\", \"test_max_name_length (invalid_models_tests.test_models.IndexesTests)\", \"test_name_constraints (invalid_models_tests.test_models.IndexesTests)\", \"test_pointing_to_fk (invalid_models_tests.test_models.IndexesTests)\", \"test_pointing_to_m2m_field (invalid_models_tests.test_models.IndexesTests)\", \"test_pointing_to_missing_field (invalid_models_tests.test_models.IndexesTests)\", \"test_pointing_to_non_local_field (invalid_models_tests.test_models.IndexesTests)\", \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"test_no_clash_across_apps_without_accessor (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\", \"Tests the AddField operation.\", \"The CreateTable operation ignores swapped models.\", \"Tests the DeleteModel operation ignores swapped models.\", \"Add/RemoveIndex operations ignore swapped models.\", \"test_check_constraint_pointing_to_fk (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_joined_fields (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_joined_fields_complex_check (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_m2m_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_missing_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_non_local_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_pk (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_reverse_fk (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_pointing_to_reverse_o2o (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraint_raw_sql_check (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraints (invalid_models_tests.test_models.ConstraintsTests)\", \"test_check_constraints_required_db_features (invalid_models_tests.test_models.ConstraintsTests)\", \"test_deferrable_unique_constraint (invalid_models_tests.test_models.ConstraintsTests)\", \"test_deferrable_unique_constraint_required_db_features (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint_expression_custom_lookup (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint_pointing_to_fk (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint_pointing_to_m2m_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint_pointing_to_missing_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint_pointing_to_missing_field_nested (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint_pointing_to_non_local_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_func_unique_constraint_required_db_features (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_condition_pointing_to_joined_fields (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_condition_pointing_to_missing_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_pointing_to_fk (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_pointing_to_m2m_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_pointing_to_missing_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_pointing_to_non_local_field (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_pointing_to_reverse_o2o (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_with_condition (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_with_condition_required_db_features (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_with_include (invalid_models_tests.test_models.ConstraintsTests)\", \"test_unique_constraint_with_include_required_db_features (invalid_models_tests.test_models.ConstraintsTests)\", \"test_composite_primary_key (inspectdb.tests.InspectDBTransactionalTests)\", \"inspectdb --include-views creates models for database views.\", \"test_ambiguous_relationship_model_from (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_ambiguous_relationship_model_to (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_abstract_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"#25723 - Referenced model registration lookup should be run against the\", \"test_foreign_key_to_missing_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_non_unique_field (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_non_unique_field_under_explicit_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_partially_unique_field (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_key_to_unique_field_with_meta_constraint (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_object_to_non_unique_fields (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_object_to_partially_unique_field (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_foreign_object_to_unique_field_with_meta_constraint (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_invalid_related_query_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_m2m_to_abstract_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"#25723 - Through model registration lookup should be run against the\", \"test_many_to_many_to_missing_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_many_to_many_with_useless_options (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_many_to_many_with_useless_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_missing_relationship_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_missing_relationship_model_on_model_check (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_not_swapped_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_nullable_primary_key (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_on_delete_set_default_without_default_value (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_on_delete_set_null_on_non_nullable_field (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_referencing_to_swapped_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_related_field_has_invalid_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_related_field_has_valid_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_relationship_model_missing_foreign_key (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_relationship_model_with_foreign_key_to_wrong_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_to_fields_exist (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_to_fields_not_checked_if_related_model_doesnt_exist (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_too_many_foreign_keys_in_self_referential_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_unique_m2m (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_valid_foreign_key_without_accessor (invalid_models_tests.test_relative_fields.RelativeFieldTests)\", \"test_just_order_with_respect_to_no_errors (invalid_models_tests.test_models.OtherModelTests)\", \"test_just_ordering_no_errors (invalid_models_tests.test_models.OtherModelTests)\", \"test_lazy_reference_checks (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_autogenerated_table_name_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_autogenerated_table_name_clash_database_routers_installed (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_field_table_name_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_field_table_name_clash_database_routers_installed (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_table_name_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_table_name_clash_database_routers_installed (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_to_concrete_and_proxy_allowed (invalid_models_tests.test_models.OtherModelTests)\", \"test_m2m_unmanaged_shadow_models_not_checked (invalid_models_tests.test_models.OtherModelTests)\", \"test_name_beginning_with_underscore (invalid_models_tests.test_models.OtherModelTests)\", \"test_name_contains_double_underscores (invalid_models_tests.test_models.OtherModelTests)\", \"test_name_ending_with_underscore (invalid_models_tests.test_models.OtherModelTests)\", \"test_non_valid (invalid_models_tests.test_models.OtherModelTests)\", \"test_onetoone_with_explicit_parent_link_parent_model (invalid_models_tests.test_models.OtherModelTests)\", \"test_onetoone_with_parent_model (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_allows_registered_lookups (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_non_iterable (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_multiple_times_to_model_fields (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_foreignkey_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_lookup_not_transform (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_foreignkey_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_related_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_missing_related_model_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_non_related_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_related_model_pk (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_pointing_to_two_related_model_field (invalid_models_tests.test_models.OtherModelTests)\", \"test_ordering_with_order_with_respect_to (invalid_models_tests.test_models.OtherModelTests)\", \"test_property_and_related_field_accessor_clash (invalid_models_tests.test_models.OtherModelTests)\", \"test_single_primary_key (invalid_models_tests.test_models.OtherModelTests)\", \"test_swappable_missing_app (invalid_models_tests.test_models.OtherModelTests)\", \"test_swappable_missing_app_name (invalid_models_tests.test_models.OtherModelTests)\", \"test_two_m2m_through_same_model_with_different_through_fields (invalid_models_tests.test_models.OtherModelTests)\", \"test_two_m2m_through_same_relationship (invalid_models_tests.test_models.OtherModelTests)\", \"test_unique_primary_key (invalid_models_tests.test_models.OtherModelTests)\", \"test_bigautofield (introspection.tests.IntrospectionTests)\", \"test_django_table_names (introspection.tests.IntrospectionTests)\", \"test_django_table_names_retval_type (introspection.tests.IntrospectionTests)\", \"test_get_constraints (introspection.tests.IntrospectionTests)\", \"test_get_constraints_index_types (introspection.tests.IntrospectionTests)\", \"Indexes have the 'orders' key with a list of 'ASC'/'DESC' values.\", \"test_get_constraints_unique_indexes_orders (introspection.tests.IntrospectionTests)\", \"test_get_primary_key_column (introspection.tests.IntrospectionTests)\", \"test_get_relations (introspection.tests.IntrospectionTests)\", \"test_get_table_description_col_lengths (introspection.tests.IntrospectionTests)\", \"test_get_table_description_names (introspection.tests.IntrospectionTests)\", \"test_get_table_description_nullable (introspection.tests.IntrospectionTests)\", \"test_get_table_description_types (introspection.tests.IntrospectionTests)\", \"test_installed_models (introspection.tests.IntrospectionTests)\", \"test_sequence_list (introspection.tests.IntrospectionTests)\", \"test_smallautofield (introspection.tests.IntrospectionTests)\", \"test_table_names (introspection.tests.IntrospectionTests)\", \"test_table_names_with_views (introspection.tests.IntrospectionTests)\", \"test_unmanaged_through_model (introspection.tests.IntrospectionTests)\", \"Setting order_with_respect_to when adding the FK too does\", \"#23405 - Adding a NOT NULL and blank `CharField` or `TextField`\", \"Test change detection of new constraints.\", \"test_add_custom_fk_with_hardcoded_to (migrations.test_autodetector.AutodetectorTests)\", \"test_add_date_fields_with_auto_now_add_asking_for_default (migrations.test_autodetector.AutodetectorTests)\", \"test_add_date_fields_with_auto_now_add_not_asking_for_null_addition (migrations.test_autodetector.AutodetectorTests)\", \"test_add_date_fields_with_auto_now_not_asking_for_default (migrations.test_autodetector.AutodetectorTests)\", \"Tests autodetection of new fields.\", \"Added fields will be created before using them in unique_together.\", \"#22030 - Adding a field with a default should work.\", \"Test change detection of new indexes.\", \"#22435 - Adding a ManyToManyField should not prompt for a default.\", \"Setting order_with_respect_to when adding the whole model\", \"test_add_model_order_with_respect_to_index_constraint (migrations.test_autodetector.AutodetectorTests)\", \"test_add_model_order_with_respect_to_unique_together (migrations.test_autodetector.AutodetectorTests)\", \"Removing a base field takes place before adding a new inherited model\", \"#23405 - Adding a NOT NULL and non-blank `CharField` or `TextField`\", \"Tests unique_together detection.\", \"Tests detection for adding db_table in model's options.\", \"Tests detection for changing db_table in model's options'.\", \"test_alter_db_table_comment_add (migrations.test_autodetector.AutodetectorTests)\", \"test_alter_db_table_comment_change (migrations.test_autodetector.AutodetectorTests)\", \"test_alter_db_table_comment_no_changes (migrations.test_autodetector.AutodetectorTests)\", \"test_alter_db_table_comment_remove (migrations.test_autodetector.AutodetectorTests)\", \"Alter_db_table doesn't generate a migration if no changes have been made.\", \"Tests detection for removing db_table in model's options.\", \"Tests when model and db_table changes, autodetector must create two\", \"Fields are altered after deleting some unique_together.\", \"test_alter_field_to_fk_dependency_other_app (migrations.test_autodetector.AutodetectorTests)\", \"#23609 - Tests autodetection of nullable to non-nullable alterations.\", \"ForeignKeys are altered _before_ the model they used to\", \"test_alter_many_to_many (migrations.test_autodetector.AutodetectorTests)\", \"Changing the model managers adds a new operation.\", \"Changing a model's options should make a change.\", \"Changing a proxy model's options should also make a change.\", \"test_alter_regex_string_to_compiled_regex (migrations.test_autodetector.AutodetectorTests)\", \"test_alter_unique_together_fk_to_m2m (migrations.test_autodetector.AutodetectorTests)\", \"Tests auto-naming of migrations for graph matching.\", \"test_arrange_for_graph_with_multiple_initial (migrations.test_autodetector.AutodetectorTests)\", \"Bases of other models come first.\", \"test_bases_first_mixed_case_app_label (migrations.test_autodetector.AutodetectorTests)\", \"#23315 - The dependency resolver knows to put all CreateModel\", \"#23322 - The dependency resolver knows to explicitly resolve\", \"Having a circular ForeignKey dependency automatically\", \"#23938 - Changing a concrete field into a ManyToManyField\", \"test_create_model_and_unique_together (migrations.test_autodetector.AutodetectorTests)\", \"Test creation of new model with constraints already defined.\", \"Test creation of new model with indexes already defined.\", \"Adding a m2m with a through model and the models that use it should be\", \"test_create_with_through_model_separate_apps (migrations.test_autodetector.AutodetectorTests)\", \"Two instances which deconstruct to the same value aren't considered a\", \"Tests custom naming of migrations for graph matching.\", \"Field instances are handled correctly by nested deconstruction.\", \"#22951 -- Uninstantiated classes with deconstruct are correctly returned\", \"Nested deconstruction descends into dict values.\", \"Nested deconstruction descends into lists.\", \"Nested deconstruction descends into tuples.\", \"test_default_related_name_option (migrations.test_autodetector.AutodetectorTests)\", \"test_different_regex_does_alter (migrations.test_autodetector.AutodetectorTests)\", \"Empty unique_together shouldn't generate a migration.\", \"A dependency to an app with no migrations uses __first__.\", \"Having a ForeignKey automatically adds a dependency.\", \"#23100 - ForeignKeys correctly depend on other apps' models.\", \"Removing an FK and the model it targets in the same change must remove\", \"test_identical_regex_doesnt_alter (migrations.test_autodetector.AutodetectorTests)\", \"Tests when model changes but db_table stays as-is, autodetector must not\", \"A dependency to an app with existing migrations uses the\", \"A model with a m2m field that specifies a \\\"through\\\" model cannot be\", \"test_managed_to_unmanaged (migrations.test_autodetector.AutodetectorTests)\", \"#23938 - Changing a ManyToManyField into a concrete field\", \"Removing a ManyToManyField and the \\\"through\\\" model in the same change\", \"Removing a model that contains a ManyToManyField and the \\\"through\\\" model\", \"test_mti_inheritance_model_removal (migrations.test_autodetector.AutodetectorTests)\", \"Inheriting models doesn't move *_ptr fields into AddField operations.\", \"Nested deconstruction is applied recursively to the args/kwargs of\", \"Tests autodetection of new models.\", \"If two models with a ForeignKey from one to the other are removed at the\", \"Tests deletion of old models.\", \"Test change detection of reordering of fields in indexes.\", \"test_parse_number (migrations.test_autodetector.AutodetectorTests)\", \"test_partly_alter_unique_together_decrease (migrations.test_autodetector.AutodetectorTests)\", \"test_partly_alter_unique_together_increase (migrations.test_autodetector.AutodetectorTests)\", \"A relation used as the primary key is kept as part of CreateModel.\", \"The autodetector correctly deals with proxy models.\", \"Bases of proxies come first.\", \"#23415 - The autodetector must correctly deal with custom FK on proxy\", \"FK dependencies still work on proxy models.\", \"test_proxy_non_model_parent (migrations.test_autodetector.AutodetectorTests)\", \"test_proxy_to_mti_with_fk_to_proxy (migrations.test_autodetector.AutodetectorTests)\", \"test_proxy_to_mti_with_fk_to_proxy_proxy (migrations.test_autodetector.AutodetectorTests)\", \"Removing order_with_respect_to when removing the FK too does\", \"Test change detection of removed constraints.\", \"Tests autodetection of removed fields.\", \"Removed fields will be removed after updating unique_together.\", \"Test change detection of removed indexes.\", \"Tests autodetection of renamed fields.\", \"Fields are renamed before updating unique_together.\", \"test_rename_field_foreign_key_to_field (migrations.test_autodetector.AutodetectorTests)\", \"RenameField is used if a field is renamed and db_column equal to the\", \"test_rename_field_with_renamed_model (migrations.test_autodetector.AutodetectorTests)\", \"test_rename_foreign_object_fields (migrations.test_autodetector.AutodetectorTests)\", \"test_rename_indexes (migrations.test_autodetector.AutodetectorTests)\", \"Tests autodetection of renamed models that are used in M2M relations as\", \"Tests autodetection of renamed models.\", \"Model name is case-insensitive. Changing case doesn't lead to any\", \"The migration to rename a model pointed to by a foreign key in another\", \"#24537 - The order of fields in a model does not influence\", \"Tests autodetection of renamed models while simultaneously renaming one\", \"test_rename_referenced_primary_key (migrations.test_autodetector.AutodetectorTests)\", \"test_rename_related_field_preserved_db_column (migrations.test_autodetector.AutodetectorTests)\", \"test_renamed_referenced_m2m_model_case (migrations.test_autodetector.AutodetectorTests)\", \"#22300 - Adding an FK in the same \\\"spot\\\" as a deleted CharField should\", \"A migration with a FK between two models of the same app does\", \"#22275 - A migration with circular FK dependency does not try\", \"A migration with a FK between two models of the same app\", \"Setting order_with_respect_to adds a field.\", \"test_set_alter_order_with_respect_to_index_constraint_unique_together (migrations.test_autodetector.AutodetectorTests)\", \"test_supports_functools_partial (migrations.test_autodetector.AutodetectorTests)\", \"test_swappable (migrations.test_autodetector.AutodetectorTests)\", \"test_swappable_changed (migrations.test_autodetector.AutodetectorTests)\", \"test_swappable_circular_multi_mti (migrations.test_autodetector.AutodetectorTests)\", \"Swappable models get their CreateModel first.\", \"test_swappable_lowercase (migrations.test_autodetector.AutodetectorTests)\", \"test_swappable_many_to_many_model_case (migrations.test_autodetector.AutodetectorTests)\", \"Trim does not remove dependencies but does remove unwanted apps.\", \"unique_together doesn't generate a migration if no\", \"unique_together also triggers on ordering changes.\", \"Tests unique_together and field removal detection & ordering\", \"The autodetector correctly deals with managed models.\", \"#23415 - The autodetector must correctly deal with custom FK on\", \"test_unmanaged_delete (migrations.test_autodetector.AutodetectorTests)\", \"test_unmanaged_to_managed (migrations.test_autodetector.AutodetectorTests)\", \"test_attribute_name_not_python_keyword (inspectdb.tests.InspectDBTestCase)\", \"test_char_field_db_collation (inspectdb.tests.InspectDBTestCase)\", \"Introspection of columns with a custom field (#21090)\", \"Introspection of column names consist/start with digits (#16536/#17676)\", \"Test introspection of various Django field types\", \"test_foreign_key_to_field (inspectdb.tests.InspectDBTestCase)\", \"Introspection errors should not crash the command, and the error should\", \"test_json_field (inspectdb.tests.InspectDBTestCase)\", \"By default the command generates models with `Meta.managed = False`.\", \"test_same_relations (inspectdb.tests.InspectDBTestCase)\", \"Introspection of column names containing special characters,\", \"test_stealth_table_name_filter_option (inspectdb.tests.InspectDBTestCase)\", \"Introspection of table names containing special characters,\", \"inspectdb can inspect a subset of tables by passing the table names as\", \"test_table_with_func_unique_constraint (inspectdb.tests.InspectDBTestCase)\", \"test_text_field_db_collation (inspectdb.tests.InspectDBTestCase)\", \"test_unique_together_meta (inspectdb.tests.InspectDBTestCase)\", \"Tests the AddField operation on TextField/BinaryField.\", \"Tests the AddField operation on TextField.\", \"test_add_constraint (migrations.test_operations.OperationTests)\", \"test_add_constraint_combinable (migrations.test_operations.OperationTests)\", \"test_add_constraint_percent_escaping (migrations.test_operations.OperationTests)\", \"test_add_covering_unique_constraint (migrations.test_operations.OperationTests)\", \"test_add_deferred_unique_constraint (migrations.test_operations.OperationTests)\", \"Tests the AddField operation with a ManyToManyField.\", \"Tests the AddField operation's state alteration\", \"test_add_func_index (migrations.test_operations.OperationTests)\", \"test_add_func_unique_constraint (migrations.test_operations.OperationTests)\", \"Test the AddIndex operation.\", \"test_add_index_state_forwards (migrations.test_operations.OperationTests)\", \"test_add_or_constraint (migrations.test_operations.OperationTests)\", \"test_add_partial_unique_constraint (migrations.test_operations.OperationTests)\", \"Tests the AlterField operation.\", \"AlterField operation is a noop when adding only a db_column and the\", \"test_alter_field_m2m (migrations.test_operations.OperationTests)\", \"The AlterField operation on primary keys (things like PostgreSQL's\", \"Tests the AlterField operation on primary keys changes any FKs pointing to it.\", \"test_alter_field_pk_fk_char_to_int (migrations.test_operations.OperationTests)\", \"AlterField operation of db_collation on primary keys changes any FKs\", \"test_alter_field_pk_mti_and_fk_to_base (migrations.test_operations.OperationTests)\", \"test_alter_field_pk_mti_fk (migrations.test_operations.OperationTests)\", \"test_alter_field_reloads_state_fk_with_to_field_related_name_target_type_change (migrations.test_operations.OperationTests)\", \"If AlterField doesn't reload state appropriately, the second AlterField\", \"test_alter_field_reloads_state_on_fk_with_to_field_target_type_change (migrations.test_operations.OperationTests)\", \"test_alter_field_with_func_index (migrations.test_operations.OperationTests)\", \"test_alter_field_with_func_unique_constraint (migrations.test_operations.OperationTests)\", \"Test AlterField operation with an index to ensure indexes created via\", \"Creating and then altering an FK works correctly\", \"Altering an FK to a non-FK works (#23244)\", \"Tests the AlterIndexTogether operation.\", \"test_alter_index_together_remove (migrations.test_operations.OperationTests)\", \"test_alter_index_together_remove_with_unique_together (migrations.test_operations.OperationTests)\", \"The managers on a model are set.\", \"Tests the AlterModelOptions operation.\", \"The AlterModelOptions operation removes keys from the dict (#23121)\", \"Tests the AlterModelTable operation.\", \"AlterModelTable should rename auto-generated M2M tables.\", \"test_alter_model_table_m2m_field (migrations.test_operations.OperationTests)\", \"Tests the AlterModelTable operation if the table name is set to None.\", \"Tests the AlterModelTable operation if the table name is not changed.\", \"Tests the AlterOrderWithRespectTo operation.\", \"Tests the AlterUniqueTogether operation.\", \"test_alter_unique_together_remove (migrations.test_operations.OperationTests)\", \"A field may be migrated from AutoField to BigAutoField.\", \"Column names that are SQL keywords shouldn't cause problems when used\", \"Creation of models with a FK to a PK with db_collation.\", \"Tests the CreateModel operation.\", \"Tests the CreateModel operation on a multi-table inheritance setup.\", \"Test the creation of a model with a ManyToMany field and the\", \"test_create_model_with_boolean_expression_in_check_constraint (migrations.test_operations.OperationTests)\", \"test_create_model_with_constraint (migrations.test_operations.OperationTests)\", \"test_create_model_with_deferred_unique_constraint (migrations.test_operations.OperationTests)\", \"test_create_model_with_duplicate_base (migrations.test_operations.OperationTests)\", \"test_create_model_with_duplicate_field_name (migrations.test_operations.OperationTests)\", \"test_create_model_with_duplicate_manager_name (migrations.test_operations.OperationTests)\", \"test_create_model_with_partial_unique_constraint (migrations.test_operations.OperationTests)\", \"Tests the CreateModel operation directly followed by an\", \"CreateModel ignores proxy models.\", \"CreateModel ignores unmanaged models.\", \"Tests the DeleteModel operation.\", \"test_delete_mti_model (migrations.test_operations.OperationTests)\", \"Tests the DeleteModel operation ignores proxy models.\", \"A model with BigAutoField can be created.\", \"test_remove_constraint (migrations.test_operations.OperationTests)\", \"test_remove_covering_unique_constraint (migrations.test_operations.OperationTests)\", \"test_remove_deferred_unique_constraint (migrations.test_operations.OperationTests)\", \"Tests the RemoveField operation.\", \"test_remove_field_m2m (migrations.test_operations.OperationTests)\", \"test_remove_field_m2m_with_through (migrations.test_operations.OperationTests)\", \"Tests the RemoveField operation on a foreign key.\", \"test_remove_func_index (migrations.test_operations.OperationTests)\", \"test_remove_func_unique_constraint (migrations.test_operations.OperationTests)\", \"Test the RemoveIndex operation.\", \"test_remove_index_state_forwards (migrations.test_operations.OperationTests)\", \"test_remove_partial_unique_constraint (migrations.test_operations.OperationTests)\", \"test_remove_unique_together_on_pk_field (migrations.test_operations.OperationTests)\", \"test_remove_unique_together_on_unique_field (migrations.test_operations.OperationTests)\", \"Tests the RenameField operation.\", \"test_rename_field_case (migrations.test_operations.OperationTests)\", \"test_rename_field_index_together (migrations.test_operations.OperationTests)\", \"If RenameField doesn't reload state appropriately, the AlterField\", \"test_rename_field_unique_together (migrations.test_operations.OperationTests)\", \"test_rename_field_with_db_column (migrations.test_operations.OperationTests)\", \"test_rename_index (migrations.test_operations.OperationTests)\", \"test_rename_index_arguments (migrations.test_operations.OperationTests)\", \"test_rename_index_state_forwards (migrations.test_operations.OperationTests)\", \"test_rename_index_state_forwards_unnamed_index (migrations.test_operations.OperationTests)\", \"test_rename_index_unknown_unnamed_index (migrations.test_operations.OperationTests)\", \"test_rename_index_unnamed_index (migrations.test_operations.OperationTests)\", \"RenameModel renames a many-to-many column after a RenameField.\", \"test_rename_m2m_target_model (migrations.test_operations.OperationTests)\", \"test_rename_m2m_through_model (migrations.test_operations.OperationTests)\", \"test_rename_missing_field (migrations.test_operations.OperationTests)\", \"Tests the RenameModel operation.\", \"RenameModel operations shouldn't trigger the caching of rendered apps\", \"test_rename_model_with_db_table_rename_m2m (migrations.test_operations.OperationTests)\", \"test_rename_model_with_m2m (migrations.test_operations.OperationTests)\", \"Tests the RenameModel operation on model with self referential FK.\", \"test_rename_model_with_self_referential_m2m (migrations.test_operations.OperationTests)\", \"Tests the RenameModel operation on a model which has a superclass that\", \"test_rename_referenced_field_state_forward (migrations.test_operations.OperationTests)\", \"test_repoint_field_m2m (migrations.test_operations.OperationTests)\", \"Tests the RunPython operation\", \"Tests the RunPython operation correctly handles the \\\"atomic\\\" keyword\", \"#24098 - Tests no-op RunPython operations.\", \"#24282 - Model changes to a FK reverse side update the model\", \"Tests the RunSQL operation.\", \"test_run_sql_add_missing_semicolon_on_collect_sql (migrations.test_operations.OperationTests)\", \"#24098 - Tests no-op RunSQL operations.\", \"#23426 - RunSQL should accept parameters.\", \"#23426 - RunSQL should fail when a list of statements with an incorrect\", \"Tests the SeparateDatabaseAndState operation.\", \"A complex SeparateDatabaseAndState operation: Multiple operations both\", \"A field may be migrated from SmallAutoField to AutoField.\", \"A field may be migrated from SmallAutoField to BigAutoField.\", \"test_add_auto_field (schema.tests.SchemaTests)\", \"effective_default() should be used for DateField, DateTimeField, and\", \"Tests adding fields to models\", \"Tests binary fields get a sane default (#22851)\", \"test_add_field_db_collation (schema.tests.SchemaTests)\", \"test_add_field_default_dropped (schema.tests.SchemaTests)\", \"test_add_field_default_nullable (schema.tests.SchemaTests)\", \"Tests adding fields to models with a default that is not directly\", \"test_add_field_durationfield_with_default (schema.tests.SchemaTests)\", \"test_add_field_o2o_nullable (schema.tests.SchemaTests)\", \"Adding a field and removing it removes all deferred sql referring to it.\", \"Tests adding fields to models with a temporary default\", \"Tests adding fields to models with a temporary default where\", \"#23987 - effective_default() should be used as the field default when\", \"Regression test for #23009.\", \"test_add_foreign_key_quoted_db_table (schema.tests.SchemaTests)\", \"test_add_foreign_object (schema.tests.SchemaTests)\", \"Tests index addition and removal\", \"test_add_textfield_default_nullable (schema.tests.SchemaTests)\", \"test_add_textfield_unhashable_default (schema.tests.SchemaTests)\", \"Tests simple altering of fields\", \"test_alter_auto_field_quoted_db_column (schema.tests.SchemaTests)\", \"test_alter_auto_field_to_char_field (schema.tests.SchemaTests)\", \"test_alter_auto_field_to_integer_field (schema.tests.SchemaTests)\", \"test_alter_autofield_pk_to_bigautofield_pk (schema.tests.SchemaTests)\", \"test_alter_autofield_pk_to_smallautofield_pk (schema.tests.SchemaTests)\", \"#24307 - Should skip an alter statement on databases with\", \"test_alter_db_table_case (schema.tests.SchemaTests)\", \"test_alter_field_add_index_to_integerfield (schema.tests.SchemaTests)\", \"test_alter_field_choices_noop (schema.tests.SchemaTests)\", \"test_alter_field_db_collation (schema.tests.SchemaTests)\", \"test_alter_field_default_dropped (schema.tests.SchemaTests)\", \"No queries are performed when changing field attributes that don't\", \"test_alter_field_fk_keeps_index (schema.tests.SchemaTests)\", \"test_alter_field_fk_to_o2o (schema.tests.SchemaTests)\", \"test_alter_field_o2o_keeps_unique (schema.tests.SchemaTests)\", \"test_alter_field_o2o_to_fk (schema.tests.SchemaTests)\", \"test_alter_field_type_and_db_collation (schema.tests.SchemaTests)\", \"test_alter_field_type_preserve_db_collation (schema.tests.SchemaTests)\", \"Tests altering of FKs\", \"#25492 - Altering a foreign key's structure and data in the same\", \"#24163 - Tests altering of ForeignKey to OneToOneField\", \"Should be able to convert an implicit \\\"id\\\" field to an explicit \\\"id\\\"\", \"Should be able to rename an IntegerField(primary_key=True) to\", \"test_alter_not_unique_field_to_primary_key (schema.tests.SchemaTests)\", \"#23609 - Tests handling of default values when altering from NULL to NOT NULL.\", \"#23738 - Can change a nullable field with default to non-nullable\", \"test_alter_null_with_default_value_deferred_constraints (schema.tests.SchemaTests)\", \"Changing a field type shouldn't affect the not null status.\", \"#24163 - Tests altering of OneToOneField to ForeignKey\", \"Changing the primary key field name of a model with a self-referential\", \"test_alter_primary_key_db_collation (schema.tests.SchemaTests)\", \"test_alter_primary_key_quoted_db_table (schema.tests.SchemaTests)\", \"test_alter_primary_key_the_same_name (schema.tests.SchemaTests)\", \"Should be able to rename an SmallIntegerField(primary_key=True) to\", \"test_alter_text_field (schema.tests.SchemaTests)\", \"#25002 - Test conversion of text field to date field.\", \"#25002 - Test conversion of text field to datetime field.\", \"test_alter_text_field_to_not_null_with_default_value (schema.tests.SchemaTests)\", \"#25002 - Test conversion of text field to time field.\", \"#24447 - Tests adding a FK constraint for an existing column\", \"test_autofield_to_o2o (schema.tests.SchemaTests)\", \"test_char_field_pk_to_auto_field (schema.tests.SchemaTests)\", \"test_char_field_with_db_index_to_fk (schema.tests.SchemaTests)\", \"test_check_constraint_timedelta_param (schema.tests.SchemaTests)\", \"Tests creating/deleting CHECK constraints\", \"test_ci_cs_db_collation (schema.tests.SchemaTests)\", \"test_composed_check_constraint_with_fk (schema.tests.SchemaTests)\", \"test_composed_constraint_with_fk (schema.tests.SchemaTests)\", \"test_composed_desc_func_index_with_fk (schema.tests.SchemaTests)\", \"test_composed_desc_index_with_fk (schema.tests.SchemaTests)\", \"test_composed_func_index_with_fk (schema.tests.SchemaTests)\", \"test_composed_func_transform_index_with_fk (schema.tests.SchemaTests)\", \"test_composed_index_with_fk (schema.tests.SchemaTests)\", \"test_composite_func_index (schema.tests.SchemaTests)\", \"test_composite_func_index_field_and_expression (schema.tests.SchemaTests)\", \"test_composite_func_unique_constraint (schema.tests.SchemaTests)\", \"Ensures transaction is correctly closed when an error occurs\", \"Tests creating models with index_together already defined\", \"Tries creating a model's table, and then deleting it.\", \"Tries creating a model's table, and then deleting it when it has a\", \"test_db_collation_charfield (schema.tests.SchemaTests)\", \"test_db_collation_textfield (schema.tests.SchemaTests)\", \"Tests renaming of the table\", \"Creating tables out of FK order, then repointing, works\", \"The db_constraint parameter is respected\", \"Creating a FK to a proxy model creates database constraints.\", \"Regression test for #21497.\", \"test_func_index (schema.tests.SchemaTests)\", \"test_func_index_calc (schema.tests.SchemaTests)\", \"test_func_index_cast (schema.tests.SchemaTests)\", \"test_func_index_collate (schema.tests.SchemaTests)\", \"test_func_index_collate_f_ordered (schema.tests.SchemaTests)\", \"test_func_index_f (schema.tests.SchemaTests)\", \"test_func_index_f_decimalfield (schema.tests.SchemaTests)\", \"test_func_index_invalid_topmost_expressions (schema.tests.SchemaTests)\", \"test_func_index_json_key_transform (schema.tests.SchemaTests)\", \"test_func_index_json_key_transform_cast (schema.tests.SchemaTests)\", \"test_func_index_lookups (schema.tests.SchemaTests)\", \"test_func_index_multiple_wrapper_references (schema.tests.SchemaTests)\", \"test_func_index_nondeterministic (schema.tests.SchemaTests)\", \"test_func_index_nonexistent_field (schema.tests.SchemaTests)\", \"test_func_unique_constraint (schema.tests.SchemaTests)\", \"test_func_unique_constraint_collate (schema.tests.SchemaTests)\", \"test_func_unique_constraint_lookups (schema.tests.SchemaTests)\", \"test_func_unique_constraint_nondeterministic (schema.tests.SchemaTests)\", \"test_func_unique_constraint_nonexistent_field (schema.tests.SchemaTests)\", \"test_func_unique_constraint_partial (schema.tests.SchemaTests)\", \"Tests removing and adding index_together constraints on a model.\", \"Tests removing and adding index_together constraints that include\", \"Tests creation/altering of indexes\", \"test_m2m (schema.tests.SchemaTests)\", \"test_m2m_create (schema.tests.SchemaTests)\", \"test_m2m_create_custom (schema.tests.SchemaTests)\", \"test_m2m_create_inherited (schema.tests.SchemaTests)\", \"test_m2m_create_through (schema.tests.SchemaTests)\", \"test_m2m_create_through_custom (schema.tests.SchemaTests)\", \"test_m2m_create_through_inherited (schema.tests.SchemaTests)\", \"test_m2m_custom (schema.tests.SchemaTests)\", \"test_m2m_db_constraint (schema.tests.SchemaTests)\", \"test_m2m_db_constraint_custom (schema.tests.SchemaTests)\", \"test_m2m_db_constraint_inherited (schema.tests.SchemaTests)\", \"test_m2m_inherited (schema.tests.SchemaTests)\", \"test_m2m_rename_field_in_target_model (schema.tests.SchemaTests)\", \"test_m2m_repoint (schema.tests.SchemaTests)\", \"test_m2m_repoint_custom (schema.tests.SchemaTests)\", \"test_m2m_repoint_inherited (schema.tests.SchemaTests)\", \"test_m2m_through_alter (schema.tests.SchemaTests)\", \"test_m2m_through_alter_custom (schema.tests.SchemaTests)\", \"test_m2m_through_alter_inherited (schema.tests.SchemaTests)\", \"test_m2m_through_remove (schema.tests.SchemaTests)\", \"Table names are stripped of their namespace/schema before being used to\", \"When a primary key that's pointed to by a ForeignKey with\", \"Indexes defined with ordering (ASC/DESC) defined on column\", \"Tests altering of the primary key\", \"Foreign keys without database level constraint don't prevent the field\", \"Foreign keys without database level constraint don't prevent the table\", \"#23065 - Constraint names must be quoted if they contain capital letters.\", \"Changing db_index to False doesn't remove indexes from Meta.indexes.\", \"test_remove_field (schema.tests.SchemaTests)\", \"test_remove_field_check_does_not_remove_meta_constraints (schema.tests.SchemaTests)\", \"test_remove_field_unique_does_not_remove_meta_constraints (schema.tests.SchemaTests)\", \"test_remove_index_together_does_not_remove_meta_indexes (schema.tests.SchemaTests)\", \"test_remove_indexed_field (schema.tests.SchemaTests)\", \"test_remove_unique_together_does_not_remove_meta_constraints (schema.tests.SchemaTests)\", \"Renaming a field shouldn't affect the not null status.\", \"test_rename_referenced_field (schema.tests.SchemaTests)\", \"test_rename_table_renames_deferred_sql_references (schema.tests.SchemaTests)\", \"test_text_field_with_db_index (schema.tests.SchemaTests)\", \"test_text_field_with_db_index_to_fk (schema.tests.SchemaTests)\", \"Tests removing and adding unique constraints to a single column.\", \"test_unique_constraint (schema.tests.SchemaTests)\", \"test_unique_constraint_field_and_expression (schema.tests.SchemaTests)\", \"test_unique_name_quoting (schema.tests.SchemaTests)\", \"Tests removing and adding unique_together constraints on a model.\", \"Tests removing and adding unique_together constraints that include\"]",
  "PASS_TO_PASS": "[]",
  "environment_setup_commit": "0fbdb9784da915fce5dcc1fe82bac9b4785749e5",
  "_download_metadata": {
    "downloaded_at": "2025-10-07T21:23:30.693762",
    "dataset_name": "swe-bench",
    "split": "test",
    "downloader_version": "0.1.0"
  }
}